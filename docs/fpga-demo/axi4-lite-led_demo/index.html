<!DOCTYPE html>





    

    

    

    

    

<html lang="en"><head>
    <meta charset="utf-8" />
    <title>AXI4-Lite LED Demo | </title>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="keywords" content="Documentation, Hugo, Hugo Theme, Bootstrap" />
    <meta name="author" content="Colin Wilson - Lotus Labs" />
    <meta name="email" content="support@aigis.uk" />
    <meta name="website" content="https://lotusdocs.dev" />
    <meta name="Version" content="v0.1.0" />
    
    <link rel="icon" href="https://egghwan.github.io/favicon.ico" sizes="any">
<link rel="icon" type="image/svg+xml" href="https://egghwan.github.io/favicon.svg">
<link rel="apple-touch-icon" sizes="180x180" href="https://egghwan.github.io/apple-touch-icon.png">
<link rel="icon" type="image/png" sizes="32x32" href="https://egghwan.github.io/favicon-32x32.png">
<link rel="icon" type="image/png" sizes="16x16" href="https://egghwan.github.io/favicon-16x16.png">
<link rel="manifest" crossorigin="use-credentials" href="https://egghwan.github.io/site.webmanifest">
<meta property="og:title" content="AXI4-Lite LED Demo" />
<meta property="og:description" content="


1. 데모 설명 linkAXI4-LITE 프로토콜을 활용하여 FPGA의 PS-PL간 인터페이스 연결을 수행하여 PS에서 PL영역의 LED를 켜거나 끄는 명령을 내리고, PS에서 PL영역의 LED의 현재 상태를 읽어오는 데모에 대해 기술한다.
보드는 Zybo-Z7-10 보드를 활용하지만 다른 보드에도 응용 가능하다.
해당 데모를 수행하기 위해 FPGA에 Petalinux가 빌드되어 있어야 한다. (Petalinux 빌드 참고 링크)" />
<meta property="og:type" content="article" />
<meta property="og:url" content="https://egghwan.github.io/docs/fpga-demo/axi4-lite-led_demo/" /><meta property="og:image" content="https://egghwan.github.io/opengraph/card-base-2_hu_76928671c6bf3a70.png"/><meta property="article:section" content="docs" />
<meta property="article:published_time" content="2023-05-22T00:44:31+01:00" />
<meta property="article:modified_time" content="2023-05-22T00:44:31+01:00" /><meta name="twitter:card" content="summary_large_image"/>
<meta name="twitter:image" content="https://egghwan.github.io/opengraph/card-base-2_hu_76928671c6bf3a70.png"/>
<meta name="twitter:title" content="AXI4-Lite LED Demo"/>
<meta name="twitter:description" content="


1. 데모 설명 linkAXI4-LITE 프로토콜을 활용하여 FPGA의 PS-PL간 인터페이스 연결을 수행하여 PS에서 PL영역의 LED를 켜거나 끄는 명령을 내리고, PS에서 PL영역의 LED의 현재 상태를 읽어오는 데모에 대해 기술한다.
보드는 Zybo-Z7-10 보드를 활용하지만 다른 보드에도 응용 가능하다.
해당 데모를 수행하기 위해 FPGA에 Petalinux가 빌드되어 있어야 한다. (Petalinux 빌드 참고 링크)"/>

    
    
    <script>(()=>{var t=window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches,e=localStorage.getItem("theme");t&&e===null&&(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")),t&&e==="dark"&&document.documentElement.setAttribute("data-dark-mode",""),e==="dark"&&document.documentElement.setAttribute("data-dark-mode","")})()</script>
    
    
            
                
                <script type="text/javascript" src="https://egghwan.github.io/docs/js/flexsearch.bundle.min.f5159d5a2151ffbb653996ec17eaff7da4e04c286bd879fc41839d36a5586f3f20eaead0b6089de48f9adc669cdee771.js" integrity="sha384-9RWdWiFR/7tlOZbsF&#43;r/faTgTChr2Hn8QYOdNqVYbz8g6urQtgid5I&#43;a3Gac3udx" crossorigin="anonymous"></script>
                
        
    
    

    <link rel="stylesheet" href="/docs/scss/style.min.0dd19585783190e3219032920f3a0497a073adc641fd4386e14968b027b323d586f5c3ad89ac285595ec9b82b9d8273b.css" integrity="sha384-DdGVhXgxkOMhkDKSDzoEl6BzrcZB/UOG4UlosCezI9WG9cOtiawoVZXsm4K52Cc7"crossorigin="anonymous">
    
    
    
    </head>
<body>
        <div class="content">
            <div class="page-wrapper toggled">
<nav id="sidebar" class="sidebar-wrapper">
    <div class="sidebar-brand">
        <a href='/' aria-label="HomePage" alt="HomePage">
            
                <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143,39.5c-18,0-18,18-18,18,0,0,0-18-18-18H22c-2.76,0-5,2.24-5,5v143c0,2.76,2.24,5,5,5h76c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h76c2.76,0,5-2.24,5-5V44.5c0-2.76-2.24-5-5-5h-85Zm63,123.5c0,1.38-1.12,2.5-2.5,2.5h-60.5c-18,0-18,18-18,18,0,0,0-18-18-18h-60.5c-1.38,0-2.5-1.12-2.5-2.5v-94c0-1.38,1.12-2.5,2.5-2.5h51.5c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h51.5c1.38,0,2.5,1.12,2.5,2.5v94Z" style="fill:#06f;"/></svg>
            
        </a>
    </div>
    <div class="sidebar-content" style="height: calc(100% - 131px);">
        <ul class="sidebar-menu">
            
                
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">quick_reference_all</i>
                                Digital-Signal-Processing
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/dsp/decimation_downsampling/">Decimation vs Down-sampling</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/dsp/fir_filter/">FIR Filter</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/dsp/interpolation_upsampling/">Interpolation vs Upsampling</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  current active">
                            <button class="btn">
                                <i class="material-icons me-2">quick_reference_all</i>
                                FPGA Demo
                            </button>
                            <div class="sidebar-submenu d-block">
                                <ul>
                                    
                                        
                                        
                                            <li class="current "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/fpga-demo/axi4-lite-led_demo/">AXI4-Lite LED Demo</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/fpga-demo/petalinux_build_demo/">Petalinux Build Demo (Zybo-z7-10)</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">edit</i>
                                RTL IP
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/rtl-ip/lib_sync_fifo/">lib_sync_fifo.v</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/rtl-ip/mermaid/">Mermaid</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">folder</i>
                                Section Folder
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class="sidebar-dropdown nested  ">
                                                <button class="btn">
                                                    
                                                    Section Subfolder
                                                </button>
                                                <div class="sidebar-submenu ">
                                                    <ul>
                                                        
                                                            
                                                            
                                                                <li class="sidebar-dropdown nested  ">
                                                                    <button class="btn">
                                                                        
                                                                        Second Section Subfolder
                                                                    </button>
                                                                    <div class="sidebar-submenu ">
                                                                        <ul>
                                                                            
                                                                                
                                                                                
                                                                                    <li class="sidebar-dropdown nested  ">
                                                                                        <button class="btn">
                                                                                            
                                                                                            Third Section Subfolder
                                                                                        </button>
                                                                                        <div class="sidebar-submenu ">
                                                                                            <ul>
                                                                                                
                                                                                                    
                                                                                                    <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/section-folder/section-subfolder/second-section-subfolder/third-section-subfolder/example-doc/">Example Doc</a></li>
                                                                                                
                                                                                            </ul>
                                                                                        </div>
                                                                                    </li>
                                                                                
                                                                            
                                                                        </ul>
                                                                    </div>
                                                                </li>
                                                            
                                                        
                                                    </ul>
                                                </div>
                                            </li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">tune</i>
                                Terms
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/terms/pl_region/">PL</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/terms/ps_region/">PS</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/terms/wsl/">WSL</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
                    
                    
                        <li class="sidebar-dropdown  ">
                            <button class="btn">
                                <i class="material-icons me-2">tune</i>
                                Theme Options
                            </button>
                            <div class="sidebar-submenu ">
                                <ul>
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/theme-options/breadcrumbs/">Breadcrumb Navigation</a></li>
                                        
                                    
                                        
                                        
                                            <li class=" "><a class="sidebar-nested-link" href="https://egghwan.github.io/docs/theme-options/link-behaviour/">Link behaviour</a></li>
                                        
                                    
                                </ul>
                            </div>
                        </li>
                    
                
            
        </ul>
        
    </div>
    
        <ul class="sidebar-footer list-unstyled mb-0">
            
        </ul>
    
</nav>

                    <main class="page-content bg-transparent">
                        
<div id="top-header" class="top-header d-print-none">
    <div class="header-bar d-flex justify-content-between">
        <div class="d-flex align-items-center">
            <a href='/' class="logo-icon me-3" aria-label="HomePage" alt="HomePage">
                <div class="small">
                    
                            <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143,39.5c-18,0-18,18-18,18,0,0,0-18-18-18H22c-2.76,0-5,2.24-5,5v143c0,2.76,2.24,5,5,5h76c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h76c2.76,0,5-2.24,5-5V44.5c0-2.76-2.24-5-5-5h-85Zm63,123.5c0,1.38-1.12,2.5-2.5,2.5h-60.5c-18,0-18,18-18,18,0,0,0-18-18-18h-60.5c-1.38,0-2.5-1.12-2.5-2.5v-94c0-1.38,1.12-2.5,2.5-2.5h51.5c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h51.5c1.38,0,2.5,1.12,2.5,2.5v94Z" style="fill:#06f;"/></svg>
                    
                </div>
                <div class="big">
                    
                            <?xml version="1.0" encoding="UTF-8"?><svg id="Layer_1" xmlns="http://www.w3.org/2000/svg" viewBox="0 0 250 250"><path d="m143,39.5c-18,0-18,18-18,18,0,0,0-18-18-18H22c-2.76,0-5,2.24-5,5v143c0,2.76,2.24,5,5,5h76c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h76c2.76,0,5-2.24,5-5V44.5c0-2.76-2.24-5-5-5h-85Zm63,123.5c0,1.38-1.12,2.5-2.5,2.5h-60.5c-18,0-18,18-18,18,0,0,0-18-18-18h-60.5c-1.38,0-2.5-1.12-2.5-2.5v-94c0-1.38,1.12-2.5,2.5-2.5h51.5c7.2,0,8.64,11.52,8.93,16.13.07,1.05.95,1.87,2,1.87h32.14c1.06,0,1.94-.82,2-1.87.29-4.61,1.73-16.13,8.93-16.13h51.5c1.38,0,2.5,1.12,2.5,2.5v94Z" style="fill:#06f;"/></svg>
                    
                </div>
            </a>
            <button id="close-sidebar" class="btn btn-icon btn-soft">
                <span class="material-icons size-20 menu-icon align-middle">menu</span>
            </button>
            
            
                    
                    <button id="flexsearch-button" class="ms-3 btn btn-soft" data-bs-toggle="collapse" data-bs-target="#FlexSearchCollapse" aria-expanded="false" aria-controls="FlexSearchCollapse">
                        <span class="material-icons size-20 menu-icon align-middle">search</span>
                        <span class="flexsearch-button-placeholder ms-1 me-2 d-none d-sm-block">Search</span>
                        <div class="d-none d-sm-block">
                            <span class="flexsearch-button-keys">
                                <kbd class="flexsearch-button-cmd-key">
                                    <svg width="44" height="15"><path d="M2.118,11.5A1.519,1.519,0,0,1,1,11.042,1.583,1.583,0,0,1,1,8.815a1.519,1.519,0,0,1,1.113-.458h.715V6.643H2.118A1.519,1.519,0,0,1,1,6.185,1.519,1.519,0,0,1,.547,5.071,1.519,1.519,0,0,1,1,3.958,1.519,1.519,0,0,1,2.118,3.5a1.519,1.519,0,0,1,1.114.458A1.519,1.519,0,0,1,3.69,5.071v.715H5.4V5.071A1.564,1.564,0,0,1,6.976,3.5,1.564,1.564,0,0,1,8.547,5.071,1.564,1.564,0,0,1,6.976,6.643H6.261V8.357h.715a1.575,1.575,0,0,1,1.113,2.685,1.583,1.583,0,0,1-2.227,0A1.519,1.519,0,0,1,5.4,9.929V9.214H3.69v.715a1.519,1.519,0,0,1-.458,1.113A1.519,1.519,0,0,1,2.118,11.5Zm0-.857a.714.714,0,0,0,.715-.714V9.214H2.118a.715.715,0,1,0,0,1.429Zm4.858,0a.715.715,0,1,0,0-1.429H6.261v.715a.714.714,0,0,0,.715.714ZM3.69,8.357H5.4V6.643H3.69ZM2.118,5.786h.715V5.071a.714.714,0,0,0-.715-.714.715.715,0,0,0-.5,1.22A.686.686,0,0,0,2.118,5.786Zm4.143,0h.715a.715.715,0,0,0,.5-1.22.715.715,0,0,0-1.22.5Z" fill="currentColor"></path><path d="M12.4,11.475H11.344l3.879-7.95h1.056Z" fill="currentColor"></path><path d="M25.073,5.384l-.864.576a2.121,2.121,0,0,0-1.786-.923,2.207,2.207,0,0,0-2.266,2.326,2.206,2.206,0,0,0,2.266,2.325,2.1,2.1,0,0,0,1.782-.918l.84.617a3.108,3.108,0,0,1-2.622,1.293,3.217,3.217,0,0,1-3.349-3.317,3.217,3.217,0,0,1,3.349-3.317A3.046,3.046,0,0,1,25.073,5.384Z" fill="currentColor"></path><path d="M30.993,5.142h-2.07v5.419H27.891V5.142h-2.07V4.164h5.172Z" fill="currentColor"></path><path d="M34.67,4.164c1.471,0,2.266.658,2.266,1.851,0,1.087-.832,1.809-2.134,1.855l2.107,2.691h-1.28L33.591,7.87H33.07v2.691H32.038v-6.4Zm-1.6.969v1.8h1.572c.832,0,1.22-.3,1.22-.918s-.411-.882-1.22-.882Z" fill="currentColor"></path><path d="M42.883,10.561H38.31v-6.4h1.033V9.583h3.54Z" fill="currentColor"></path></svg>
                                </kbd>
                                <kbd class="flexsearch-button-key">
                                    <svg width="15" height="15"><path d="M5.926,12.279H4.41L9.073,2.721H10.59Z" fill="currentColor"/></svg>
                                </kbd>
                            </span>
                        </div>
                    </button>
                    
                
            </div>

        <div class="d-flex align-items-center">
            <ul class="list-unstyled mb-0">
                
            </ul>
            <button id="mode" class="btn btn-icon btn-default ms-2" type="button" aria-label="Toggle user interface mode">
                <span class="toggle-dark">
                    <svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentColor">
                        <title>Enable dark mode</title>
                        <path d="M24 42q-7.5 0-12.75-5.25T6 24q0-7.5 5.25-12.75T24 6q.4 0 .85.025.45.025 1.15.075-1.8 1.6-2.8 3.95-1 2.35-1 4.95 0 4.5 3.15 7.65Q28.5 25.8 33 25.8q2.6 0 4.95-.925T41.9 22.3q.05.6.075.975Q42 23.65 42 24q0 7.5-5.25 12.75T24 42Zm0-3q5.45 0 9.5-3.375t5.05-7.925q-1.25.55-2.675.825Q34.45 28.8 33 28.8q-5.75 0-9.775-4.025T19.2 15q0-1.2.25-2.575.25-1.375.9-3.125-4.9 1.35-8.125 5.475Q9 18.9 9 24q0 6.25 4.375 10.625T24 39Zm-.2-14.85Z"/>
                    </svg>
                </span>
                <span class="toggle-light">
                    <svg xmlns="http://www.w3.org/2000/svg" height="30" width="30" viewBox="0 0 48 48" fill="currentColor">
                        <title>Enable light mode</title>
                        <path d="M24 31q2.9 0 4.95-2.05Q31 26.9 31 24q0-2.9-2.05-4.95Q26.9 17 24 17q-2.9 0-4.95 2.05Q17 21.1 17 24q0 2.9 2.05 4.95Q21.1 31 24 31Zm0 3q-4.15 0-7.075-2.925T14 24q0-4.15 2.925-7.075T24 14q4.15 0 7.075 2.925T34 24q0 4.15-2.925 7.075T24 34ZM3.5 25.5q-.65 0-1.075-.425Q2 24.65 2 24q0-.65.425-1.075Q2.85 22.5 3.5 22.5h5q.65 0 1.075.425Q10 23.35 10 24q0 .65-.425 1.075-.425.425-1.075.425Zm36 0q-.65 0-1.075-.425Q38 24.65 38 24q0-.65.425-1.075.425-.425 1.075-.425h5q.65 0 1.075.425Q46 23.35 46 24q0 .65-.425 1.075-.425.425-1.075.425ZM24 10q-.65 0-1.075-.425Q22.5 9.15 22.5 8.5v-5q0-.65.425-1.075Q23.35 2 24 2q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 10 24 10Zm0 36q-.65 0-1.075-.425-.425-.425-.425-1.075v-5q0-.65.425-1.075Q23.35 38 24 38q.65 0 1.075.425.425.425.425 1.075v5q0 .65-.425 1.075Q24.65 46 24 46ZM12 14.1l-2.85-2.8q-.45-.45-.425-1.075.025-.625.425-1.075.45-.45 1.075-.45t1.075.45L14.1 12q.4.45.4 1.05 0 .6-.4 1-.4.45-1.025.45-.625 0-1.075-.4Zm24.7 24.75L33.9 36q-.4-.45-.4-1.075t.45-1.025q.4-.45 1-.45t1.05.45l2.85 2.8q.45.45.425 1.075-.025.625-.425 1.075-.45.45-1.075.45t-1.075-.45ZM33.9 14.1q-.45-.45-.45-1.05 0-.6.45-1.05l2.8-2.85q.45-.45 1.075-.425.625.025 1.075.425.45.45.45 1.075t-.45 1.075L36 14.1q-.4.4-1.025.4-.625 0-1.075-.4ZM9.15 38.85q-.45-.45-.45-1.075t.45-1.075L12 33.9q.45-.45 1.05-.45.6 0 1.05.45.45.45.45 1.05 0 .6-.45 1.05l-2.8 2.85q-.45.45-1.075.425-.625-.025-1.075-.425ZM24 24Z"/>
                    </svg>
                </span>
            </button>
            
            
        </div>
    </div>
    
    
            <div class="collapse" id="FlexSearchCollapse">
                <div class="flexsearch-container">
                    <div class="flexsearch-keymap">
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow down" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 3.5v8M10.5 8.5l-3 3-3-3"></path></g></svg></kbd>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Arrow up" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M7.5 11.5v-8M10.5 6.5l-3-3-3 3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to navigate</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Enter key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M12 3.53088v3c0 1-1 2-2 2H4M7 11.53088l-3-3 3-3"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to select</span>
                        </li>
                        <li>
                            <kbd class="flexsearch-button-cmd-key"><svg width="15" height="15" aria-label="Escape key" role="img"><g fill="none" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round" stroke-width="1.2"><path d="M13.6167 8.936c-.1065.3583-.6883.962-1.4875.962-.7993 0-1.653-.9165-1.653-2.1258v-.5678c0-1.2548.7896-2.1016 1.653-2.1016.8634 0 1.3601.4778 1.4875 1.0724M9 6c-.1352-.4735-.7506-.9219-1.46-.8972-.7092.0246-1.344.57-1.344 1.2166s.4198.8812 1.3445.9805C8.465 7.3992 8.968 7.9337 9 8.5c.032.5663-.454 1.398-1.4595 1.398C6.6593 9.898 6 9 5.963 8.4851m-1.4748.5368c-.2635.5941-.8099.876-1.5443.876s-1.7073-.6248-1.7073-2.204v-.4603c0-1.0416.721-2.131 1.7073-2.131.9864 0 1.6425 1.031 1.5443 2.2492h-2.956"></path></g></svg></kbd>
                            <span class="flexsearch-key-label">to close</span>
                        </li>
                    </div>
                    <form class="flexsearch position-relative flex-grow-1 ms-2 me-2">
                        <div class="d-flex flex-row">
                            <input id="flexsearch" class="form-control" type="search" placeholder="Search" aria-label="Search" autocomplete="off">
                            <button id="hideFlexsearch" type="button" class="ms-2 btn btn-soft">
                                cancel
                            </button>
                        </div>
                        <div id="suggestions" class="shadow rounded-1 d-none"></div>
                    </form>
                </div>
            </div>
        
    
    
</div>


                            <div class="container-fluid">
                                <div class="layout-spacing">
                                    
                                        <div class="d-md-flex justify-content-between align-items-center"><nav aria-label="breadcrumb" class="d-inline-block pb-2 mt-1 mt-sm-0">
    <ul id="breadcrumbs" class="breadcrumb bg-transparent mb-0" itemscope itemtype="https://schema.org/BreadcrumbList">
        
            
                <li class="breadcrumb-item text-capitalize active" aria-current="page" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/docs/">
                        <i class="material-icons size-20 align-text-bottom" itemprop="name">Home</i>
                    </a>
                    <meta itemprop="position" content='1' />
                </li>
            
            
                <li class="breadcrumb-item text-capitalize" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                    <a itemprop="item" href="/docs/fpga-demo/">
                        <span itemprop="name">FPGA Demo</span>
                    </a>
                    <meta itemprop="position" content='2' />
                </li>
            
        
            <li class="breadcrumb-item text-capitalize active" itemprop="itemListElement" itemscope itemtype="https://schema.org/ListItem">
                <span itemprop="name">AXI4-Lite LED Demo</span>
                <meta itemprop="position" content='3' />
            </li>
        
    </ul>
</nav></div>
                                    
                                    <div class="row flex-xl-nowrap">
                                        
                                        <div class="docs-toc col-xl-3    d-xl-block"><toc>
    <div class="fw-bold text-uppercase mb-2">On this page</div>
    <nav id="TableOfContents">
  <ul>
    <li><a href="#1-데모-설명">1. 데모 설명</a></li>
    <li><a href="#2-background">2. Background</a></li>
    <li><a href="#3demo">3.DEMO</a>
      <ul>
        <li><a href="#31-demo-구조">3.1 Demo 구조</a></li>
        <li><a href="#32-verilog-코드-설명">3.2 Verilog 코드 설명</a></li>
        <li><a href="#321-lib_regmapv">     3.2.1 lib_regmap.v</a></li>
        <li><a href="#322-led_ctrlv">     3.2.2 led_ctrl.v</a></li>
        <li><a href="#323-lib_axi2localv">     3.2.3 lib_axi2local.v</a></li>
        <li><a href="#324-led_topv">     3.2.4 led_top.v</a></li>
        <li><a href="#325-zybo-z7-masterxdc">     3.2.5 Zybo-Z7-Master.xdc</a></li>
        <li><a href="#33-vivado-프로젝트-구성">3.3 Vivado 프로젝트 구성</a></li>
        <li><a href="#34-petalinux-빌드">3.4 Petalinux 빌드</a></li>
      </ul>
    </li>
  </ul>
</nav>
    </toc></div>
                                        
                                        
                                        <div class="docs-toc-mobile    d-print-none d-xl-none">
                                            <button id="toc-dropdown-btn" class="btn-secondary dropdown-toggle" type="button" data-bs-toggle="dropdown" data-bs-offset="0,0" aria-expanded="false">
                                                Table of Contents
                                            </button>
<nav id="toc-mobile">
  <ul class="dropdown-menu">
    <li><a href="#1-데모-설명">1. 데모 설명</a></li>
    <li><a href="#2-background">2. Background</a></li>
    <li><a href="#3demo">3.DEMO</a>
      <ul>
        <li><a href="#31-demo-구조">3.1 Demo 구조</a></li>
        <li><a href="#32-verilog-코드-설명">3.2 Verilog 코드 설명</a></li>
        <li><a href="#321-lib_regmapv">     3.2.1 lib_regmap.v</a></li>
        <li><a href="#322-led_ctrlv">     3.2.2 led_ctrl.v</a></li>
        <li><a href="#323-lib_axi2localv">     3.2.3 lib_axi2local.v</a></li>
        <li><a href="#324-led_topv">     3.2.4 led_top.v</a></li>
        <li><a href="#325-zybo-z7-masterxdc">     3.2.5 Zybo-Z7-Master.xdc</a></li>
        <li><a href="#33-vivado-프로젝트-구성">3.3 Vivado 프로젝트 구성</a></li>
        <li><a href="#34-petalinux-빌드">3.4 Petalinux 빌드</a></li>
      </ul>
    </li>
  </ul>
</nav></div>
                                        <div class="docs-content col-12 col-xl-9 mt-0">
                                            <div class="mb-0 d-flex">
                                                
                                                <i class="material-icons title-icon me-2">code</i>
                                                
                                                <h1 class="content-title mb-0">
                                                    AXI4-Lite LED Demo
                                                    
                                                </h1>
                                            </div>
                                            
                                            <div id="content" class="main-content" >
                                                
    
    <div data-prismjs-copy="" data-prismjs-copy-success="" data-prismjs-copy-error="">
        <!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<!-- raw HTML omitted -->
<h2 id="1-데모-설명">1. 데모 설명 <a href="#1-%eb%8d%b0%eb%aa%a8-%ec%84%a4%eb%aa%85" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><p>AXI4-LITE 프로토콜을 활용하여 FPGA의 PS-PL간 인터페이스 연결을 수행하여 PS에서 PL영역의 LED를 켜거나 끄는 명령을 내리고, PS에서 PL영역의 LED의 현재 상태를 읽어오는 데모에 대해 기술한다.</p>
<p>보드는 Zybo-Z7-10 보드를 활용하지만 다른 보드에도 응용 가능하다.</p>
<p>해당 데모를 수행하기 위해 FPGA에 Petalinux가 빌드되어 있어야 한다. (<a href="https://egghwan.github.io/docs/fpga-demo/petalinux_build_demo/" rel="external" target="_blank">Petalinux 빌드 참고 링크)<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/></svg></a></p>
<p>Petalinux가 없다면 Vitis를 활용해 해당 데모를 재현할 수 있다.</p>
<h2 id="2-background">2. Background <a href="#2-background" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><p>FPGA로 제품을 구현할 때, <a data-bs-delay="{&#34;hide&#34;:300,&#34;show&#34;:550}" data-bs-html="true" data-bs-title="<a href='/docs/terms/ps_region/'><p>TERMS</p><strong>PS</strong><br>PS영역이란 FPGA에서 SW 부분을 의미한다. C/C++ 또는 Python으로 SW 어플리케이션을 구동할 수 있는 영역이다.</a>" data-bs-toggle="tooltip" href="/docs/terms/ps_region/">PS</a>에서 <a data-bs-delay="{&#34;hide&#34;:300,&#34;show&#34;:550}" data-bs-html="true" data-bs-title="<a href='/docs/terms/pl_region/'><p>TERMS</p><strong>PL</strong><br>PL영역이란 FPGA에서 HW 부분을 의미한다. Verilog 또는 VHDL로 HW 병렬처리 로직을 구현할 수 있는 영역이다.</a>" data-bs-toggle="tooltip" href="/docs/terms/pl_region/">PL</a> 회로를 제어할 일은 너무나 많다.</p>
<p>PS-PL간 LED 제어/상태 데이터 전송을 위해서, AXI4-LITE 프로토콜을 활용한다. (AXI4 프로토콜 참고 링크 추가 예정)</p>
<p>PS에서 PL의 LED를 제어하는 명령은 &ldquo;LED를 켜는 명령을 내리는 순간&rdquo; 또는 &ldquo;LED를 끄는 명령을 내리는 순간&rdquo; 딱 1회만 일어난다. LED의 상태를 읽어오는 것 역시 그 순간 LED의 상태를 한 번 읽어오면 그만이다.</p>
<p>제어/상태 데이터의 특징은 연속적이지 않은 일회성 데이터라는 점이다. AXI4-LITE 프로토콜은 이러한 일회성 데이터의 전송에 널리 쓰인다.</p>
<h2 id="3demo">3.DEMO <a href="#3demo" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h2><p>LED Demo를 구성하기 위한 Demo다. 3.1항목부터 차례대로 따라서 진행해보자.</p>
<ol>
<li>&lt;= 왼쪽 이모티콘으로 인덱스된 과정을 놓치지 말고 따라해보자.</li>
</ol>
<h3 id="31-demo-구조">3.1 Demo 구조 <a href="#31-demo-%ea%b5%ac%ec%a1%b0" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3><p>해당 데모의 구조는 아래 블록 다이어그램과 같다.</p>
<p>





  



  
    
      <img src="/images/content/led_demo_structure.png" alt="Internal link preview tooltip" width="1414" height="486" loading="lazy">
    
  
</p>
<p>각 블록의 기능은 아래와 같다.</p>
<ul>
<li>PS(Master) : FPGA의 PS 영역</li>
<li>AXI Interconnect : PS와 PL간 AXI-LITE 프로토콜을 구성하는 버스</li>
<li>lib_axi2local.v : AXI4-LITE 프로토콜이 구현되어 있는 Verilog 모듈</li>
<li>lib_regmap.v : LED 제어/상태 데이터에 대한 레지스터 맵이 정의되어 있고, 레지스터에 LED 제어/상태 데이터를 저장하는 Verilog 모듈</li>
<li>led_ctrl.v : 레지스터에 저장된 데이터에 따라 LED를 제어하는 Verilog 모듈</li>
</ul>
<p> </p>
<h3 id="32-verilog-코드-설명">3.2 Verilog 코드 설명 <a href="#32-verilog-%ec%bd%94%eb%93%9c-%ec%84%a4%eb%aa%85" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3><h3 id="321-lib_regmapv">     3.2.1 lib_regmap.v <a href="#321-lib_regmapv" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3>

    
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1</span><span><span style="color:#ff79c6">module</span> lib_regmap
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2</span><span>#(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3</span><span>    <span style="color:#ff79c6">parameter</span> AXI_AW <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4</span><span>    <span style="color:#ff79c6">parameter</span> AXI_DW <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">32</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5</span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6</span><span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_ACLK,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_ARESETN,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10</span><span>    <span style="color:#6272a4">// write address(AW)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_AWADDR,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_AWVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_AWREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15</span><span>    <span style="color:#6272a4">// write data(W)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_WDATA,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_WVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_WREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20</span><span>    <span style="color:#6272a4">// write response(B)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_BREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22</span><span>    <span style="color:#ff79c6">output</span> [<span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]        S_AXI_BRESP,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_BVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25</span><span>    <span style="color:#6272a4">// Read Address(AR)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_ARADDR,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_ARVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_ARREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30</span><span>    <span style="color:#6272a4">// Read Data(R)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_RREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32</span><span>    <span style="color:#ff79c6">output</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] S_AXI_RDATA,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33</span><span>    <span style="color:#ff79c6">output</span> [<span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]        S_AXI_RRESP,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_RVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36</span><span>    <span style="color:#6272a4">// My Module
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> in1,          <span style="color:#6272a4">//PL -&gt; PS (LED1 ON/OFF 상태)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> in2,          <span style="color:#6272a4">//PL -&gt; PS (LED2 ON/OFF 상태)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> in3,          <span style="color:#6272a4">//PL -&gt; PS (LED3 ON/OFF 상태)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> in4,          <span style="color:#6272a4">//PL -&gt; PS (LED4 ON/OFF 상태)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> out1,    <span style="color:#6272a4">//PS -&gt; PL (RST)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> out2,    <span style="color:#6272a4">//PS -&gt; PL (LED1 ON/OFF 명령)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> out3,    <span style="color:#6272a4">//PS -&gt; PL (LED2 ON/OFF 명령)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> out4,    <span style="color:#6272a4">//PS -&gt; PL (LED3 ON/OFF 명령)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> out5     <span style="color:#6272a4">//PS -&gt; PL (LED4 ON/OFF 명령)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46</span><span><span style="color:#6272a4"></span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48</span><span><span style="color:#8be9fd">wire</span> clk <span style="color:#ff79c6">=</span> S_AXI_ACLK;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49</span><span><span style="color:#8be9fd">wire</span> rst_n <span style="color:#ff79c6">=</span> S_AXI_ARESETN;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51</span><span><span style="color:#6272a4">// Address Map //
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52</span><span><span style="color:#6272a4">// base_address + (offset), offset is localparam value
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">localparam</span> LED_RST  <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h000</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54</span><span><span style="color:#ff79c6">localparam</span> LED_ON_1_IN   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h004</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55</span><span><span style="color:#ff79c6">localparam</span> LED_ON_2_IN   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h008</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56</span><span><span style="color:#ff79c6">localparam</span> LED_ON_3_IN   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h00c</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57</span><span><span style="color:#ff79c6">localparam</span> LED_ON_4_IN   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h010</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59</span><span><span style="color:#ff79c6">localparam</span> LED_ON_1_OUT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h014</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60</span><span><span style="color:#ff79c6">localparam</span> LED_ON_2_OUT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h018</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61</span><span><span style="color:#ff79c6">localparam</span> LED_ON_3_OUT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h01c</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62</span><span><span style="color:#ff79c6">localparam</span> LED_ON_4_OUT <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12&#39;h020</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64</span><span><span style="color:#8be9fd">reg</span> <span style="color:#ff79c6">signed</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] pl_to_ps_data;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65</span><span><span style="color:#8be9fd">wire</span>       [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] pl_to_ps_addr;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66</span><span><span style="color:#8be9fd">wire</span>                    pl_to_ps_ren;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67</span><span><span style="color:#8be9fd">wire</span>       [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] ps_to_pl_data;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68</span><span><span style="color:#8be9fd">wire</span>       [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] ps_to_pl_addr;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69</span><span><span style="color:#8be9fd">wire</span>                    ps_to_pl_wen;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71</span><span>lib_axi2local
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72</span><span>#(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73</span><span>    .AXI_AW(<span style="color:#bd93f9">12</span>),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74</span><span>    .AXI_DW(<span style="color:#bd93f9">32</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75</span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76</span><span>u_lib_axi2local
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77</span><span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78</span><span>    .S_AXI_ACLK     (S_AXI_ACLK),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79</span><span>    .S_AXI_ARESETN  (S_AXI_ARESETN),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80</span><span>    .S_AXI_AWADDR   (S_AXI_AWADDR),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81</span><span>    .S_AXI_AWVALID  (S_AXI_AWVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82</span><span>    .S_AXI_AWREADY  (S_AXI_AWREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83</span><span>    .S_AXI_WDATA    (S_AXI_WDATA),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84</span><span>    .S_AXI_WVALID   (S_AXI_WVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85</span><span>    .S_AXI_WREADY   (S_AXI_WREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86</span><span>    .S_AXI_BREADY   (S_AXI_BREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87</span><span>    .S_AXI_BRESP    (S_AXI_BRESP),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88</span><span>    .S_AXI_BVALID   (S_AXI_BVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89</span><span>    .S_AXI_ARADDR   (S_AXI_ARADDR),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90</span><span>    .S_AXI_ARVALID  (S_AXI_ARVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91</span><span>    .S_AXI_ARREADY  (S_AXI_ARREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92</span><span>    .S_AXI_RREADY   (S_AXI_RREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93</span><span>    .S_AXI_RDATA    (S_AXI_RDATA),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94</span><span>    .S_AXI_RRESP    (S_AXI_RRESP),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95</span><span>    .S_AXI_RVALID   (S_AXI_RVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97</span><span>    .pl_to_ps_data  (pl_to_ps_data),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98</span><span>    .pl_to_ps_addr  (pl_to_ps_addr),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99</span><span>    .pl_to_ps_ren   (pl_to_ps_ren),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100</span><span>    .ps_to_pl_data  (ps_to_pl_data),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101</span><span>    .ps_to_pl_addr  (ps_to_pl_addr),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102</span><span>    .ps_to_pl_wen   (ps_to_pl_wen)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103</span><span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105</span><span><span style="color:#6272a4">// PS write to PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106</span><span><span style="color:#6272a4">/////////////////
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> clk ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108</span><span>    <span style="color:#ff79c6">if</span>(<span style="color:#ff79c6">!</span>rst_n) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109</span><span>        out1 <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110</span><span>        out2 <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111</span><span>        out3 <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112</span><span>        out4 <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113</span><span>        out5 <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span>(ps_to_pl_wen) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116</span><span>        <span style="color:#ff79c6">case</span>(ps_to_pl_addr)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117</span><span>            LED_RST     <span style="color:#ff79c6">:</span> out1 <span style="color:#ff79c6">&lt;=</span> ps_to_pl_data[<span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118</span><span>            LED_ON_1_IN <span style="color:#ff79c6">:</span> out2 <span style="color:#ff79c6">&lt;=</span> ps_to_pl_data[<span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119</span><span>            LED_ON_2_IN <span style="color:#ff79c6">:</span> out3 <span style="color:#ff79c6">&lt;=</span> ps_to_pl_data[<span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120</span><span>            LED_ON_3_IN <span style="color:#ff79c6">:</span> out4 <span style="color:#ff79c6">&lt;=</span> ps_to_pl_data[<span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121</span><span>            LED_ON_4_IN <span style="color:#ff79c6">:</span> out5 <span style="color:#ff79c6">&lt;=</span> ps_to_pl_data[<span style="color:#bd93f9">0</span>];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122</span><span>            <span style="color:#ff79c6">default</span><span style="color:#ff79c6">:</span> ;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123</span><span>        <span style="color:#ff79c6">endcase</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127</span><span><span style="color:#6272a4">// PS read from PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128</span><span><span style="color:#6272a4">//////////////////
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> clk ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130</span><span>    <span style="color:#ff79c6">if</span>(<span style="color:#ff79c6">!</span>rst_n) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131</span><span>        pl_to_ps_data <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span>(pl_to_ps_ren) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134</span><span>        <span style="color:#ff79c6">case</span>(pl_to_ps_addr)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135</span><span>            LED_ON_1_OUT <span style="color:#ff79c6">:</span> pl_to_ps_data <span style="color:#ff79c6">&lt;=</span> {<span style="color:#bd93f9">31</span><span style="color:#bd93f9">&#39;b0</span>,in1};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136</span><span>            LED_ON_2_OUT <span style="color:#ff79c6">:</span> pl_to_ps_data <span style="color:#ff79c6">&lt;=</span> {<span style="color:#bd93f9">31</span><span style="color:#bd93f9">&#39;b0</span>,in2};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137</span><span>            LED_ON_3_OUT <span style="color:#ff79c6">:</span> pl_to_ps_data <span style="color:#ff79c6">&lt;=</span> {<span style="color:#bd93f9">31</span><span style="color:#bd93f9">&#39;b0</span>,in3};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138</span><span>            LED_ON_4_OUT <span style="color:#ff79c6">:</span> pl_to_ps_data <span style="color:#ff79c6">&lt;=</span> {<span style="color:#bd93f9">31</span><span style="color:#bd93f9">&#39;b0</span>,in4};
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139</span><span>            <span style="color:#ff79c6">default</span><span style="color:#ff79c6">:</span> ;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140</span><span>        <span style="color:#ff79c6">endcase</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145</span><span><span style="color:#ff79c6">endmodule</span></span></span></code></pre></div>
<p>lib_regmap.v 코드를 살펴보자.</p>
<ul>
<li>
<p>7~34 Line : AXI4-LITE 프로토콜 인터페이스 포트. PS와 PL의 레지스터 맵(lib_regmap.v) 사이에서 LED 제어/상태 데이터를 주고 받는 인터페이스 포트</p>
</li>
<li>
<p>37~45 Line : PL의 레지스터 맵(lib_regmap.v)와 PL의 LED 컨트롤러(led_ctrl.v) 사이에서 데이터를 주고 받는 포트이다.</p>
</li>
<li>
<p>53~62 Line : 3.3 항목의 Address Editor 에서 설정된 Master Base Address를 바탕으로 4byte offset을 줘 LED 제어/상태 데이터를 저장하는 레지스터 맵 구현 부분. 예를 들어 Master Base Address가 0x4000_0000이면 LED3을 켜는 명령은 0x4000_000C에 입력된다. 이 데이터가 1이면 led_ctrl.v는 LED3을 켠다.</p>
</li>
<li>
<p>107~125 Line : PS영역이 LED 제어 명령을 PL의 레지스터에 저장하는 부분이다. ps_to_pl_wen신호는 lib_axi2local 모듈에서 AXI4-LITE 프로토콜에 의해 1이 된다. ps_to_pl_data 신호는 PS에서 LED를 제어하는 명령을 전달한다. PS는 S_AXI_WDATA를 통해 LED 제어 명령을 보내면, lib_axi2local 모듈에서 AXI4-LITE 프로토콜을 통해 S_AXI_WDATA를 ps_to_pl_data로 전달한다.</p>
</li>
<li>
<p>129~142 Line : PL영역이 현재 LED 상태를 PL의 레지스터에 저장하는 부분이다. in1 부터 in4 까지의 신호가 각각의 LED 상태이다. lib_axi2local에서 AXI4-LITE 프로토콜을 통해 pl_to_ps_ren이 1이 되면 레지스터에 있는 데이터가 pl_to_ps_data로 이동한다. 그리고 lib_axi2local 모듈로 들어가 AXI4-LITE 프로토콜에 의해 S_AXI_RDATA로 LED 상태 정보가 PS로 전달된다.</p>
</li>
</ul>
<p> </p>
<h3 id="322-led_ctrlv">     3.2.2 led_ctrl.v <a href="#322-led_ctrlv" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3>

    
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span><span style="color:#ff79c6">module</span> led_ctrl(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>    <span style="color:#ff79c6">input</span> clk,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>    <span style="color:#ff79c6">input</span> rst,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>    <span style="color:#ff79c6">input</span> sw_rst,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>    <span style="color:#ff79c6">input</span> din_led_1_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>    <span style="color:#ff79c6">input</span> din_led_2_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>    <span style="color:#ff79c6">input</span> din_led_3_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>    <span style="color:#ff79c6">input</span> din_led_4_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> dout_led_1_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> dout_led_2_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> dout_led_3_on,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>    <span style="color:#ff79c6">output</span> <span style="color:#8be9fd">reg</span> dout_led_4_on
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> clk ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>    <span style="color:#ff79c6">if</span>(sw_rst) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>        dout_led_1_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span>(din_led_1_on) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>        dout_led_1_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>        dout_led_1_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> clk ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span>    <span style="color:#ff79c6">if</span>(sw_rst) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span><span>        dout_led_2_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span>(din_led_2_on) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span><span>        dout_led_2_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span><span>        dout_led_2_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span><span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> clk ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">42</span><span>    <span style="color:#ff79c6">if</span>(sw_rst) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">43</span><span>        dout_led_3_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">44</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">45</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span>(din_led_3_on) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">46</span><span>        dout_led_3_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">47</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">48</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">49</span><span>        dout_led_3_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">50</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">51</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">52</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">53</span><span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> clk ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">54</span><span>    <span style="color:#ff79c6">if</span>(sw_rst) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">55</span><span>        dout_led_4_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">56</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">57</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span>(din_led_4_on) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">58</span><span>        dout_led_4_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">59</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">60</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">61</span><span>        dout_led_4_on <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">62</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">63</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">64</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">65</span><span>ila_0 u_ila_0 (
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">66</span><span>	.clk(clk), <span style="color:#6272a4">// input wire clk
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">67</span><span><span style="color:#6272a4"></span>	.probe0(sw_rst), <span style="color:#6272a4">// input wire [0:0]  probe0  
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">68</span><span><span style="color:#6272a4"></span>	.probe1(din_led_1_on), <span style="color:#6272a4">// input wire [0:0]  probe1 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">69</span><span><span style="color:#6272a4"></span>	.probe2(din_led_2_on), <span style="color:#6272a4">// input wire [0:0]  probe2 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">70</span><span><span style="color:#6272a4"></span>	.probe3(din_led_3_on), <span style="color:#6272a4">// input wire [0:0]  probe3 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">71</span><span><span style="color:#6272a4"></span>	.probe4(din_led_4_on), <span style="color:#6272a4">// input wire [0:0]  probe4 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">72</span><span><span style="color:#6272a4"></span>	.probe5(dout_led_1_on), <span style="color:#6272a4">// input wire [0:0]  probe5 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">73</span><span><span style="color:#6272a4"></span>	.probe6(dout_led_2_on), <span style="color:#6272a4">// input wire [0:0]  probe6 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">74</span><span><span style="color:#6272a4"></span>	.probe7(dout_led_3_on), <span style="color:#6272a4">// input wire [0:0]  probe7 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">75</span><span><span style="color:#6272a4"></span>	.probe8(dout_led_4_on) <span style="color:#6272a4">// input wire [0:0]  probe8
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">76</span><span><span style="color:#6272a4"></span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">77</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">78</span><span><span style="color:#ff79c6">endmodule</span></span></span></code></pre></div>
<p>led_ctrl.v에서 코드를 살펴보자.</p>
<ul>
<li>5~8 Line: LED 제어 신호가 들어오는 포트. lib_regmap.v의 out 신호와 연결된다.</li>
<li>10~13 Line : LED 상태 신호를 내보내는 포트. lib_regmap.v의 in 신호와 연결된다.</li>
<li>17~27 Line : din_led_1_on 신호가 1이면 PS에서 LED1을 켜라는 의미다. 따라서 LED 상태 신호를 1로 바꿔준다.</li>
<li>나머지 : LED2, LED3, LED4에서 17~27 Line과 같은 동작을 수행한다.</li>
</ul>
<p> </p>
<h3 id="323-lib_axi2localv">     3.2.3 lib_axi2local.v <a href="#323-lib_axi2localv" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3>

    
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1</span><span><span style="color:#ff79c6">module</span> lib_axi2local
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2</span><span>#(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3</span><span>    <span style="color:#ff79c6">parameter</span> AXI_AW <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4</span><span>    <span style="color:#ff79c6">parameter</span> AXI_DW <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">32</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5</span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6</span><span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7</span><span>    <span style="color:#6272a4">//-------- AXI Interface ----------//
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_ACLK,       <span style="color:#6272a4">//AXI Clock
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_ARESETN,    <span style="color:#6272a4">//AXI Negative Reset
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11</span><span>    <span style="color:#6272a4">// Write Address     (PS write address to PL)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_AWADDR,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_AWVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_AWREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16</span><span>    <span style="color:#6272a4">// Write Data        (PS write data to PL)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_WDATA,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_WVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_WREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21</span><span>    <span style="color:#6272a4">// Write Response   
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_BREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23</span><span>    <span style="color:#ff79c6">output</span> [<span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]        S_AXI_BRESP,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_BVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26</span><span>    <span style="color:#6272a4">// Read Address      (PS Read address from PL)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_ARADDR,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_ARVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_ARREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31</span><span>    <span style="color:#6272a4">// Read Data         (PS Read data from PL)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_RREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33</span><span>    <span style="color:#ff79c6">output</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] S_AXI_RDATA,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34</span><span>    <span style="color:#ff79c6">output</span> [<span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]        S_AXI_RRESP,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_RVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36</span><span>    <span style="color:#6272a4">//---------------------------------//
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38</span><span>    <span style="color:#6272a4">//--------- Local Interface -------//
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>   [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] pl_to_ps_data, <span style="color:#6272a4">// --&gt; S_AXI_RDATA
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span>  [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] pl_to_ps_addr, <span style="color:#6272a4">// &lt;-- S_AXI_ARADDR
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span>               pl_to_ps_ren,   <span style="color:#6272a4">// read enable
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43</span><span>    <span style="color:#ff79c6">output</span>  [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] ps_to_pl_data, <span style="color:#6272a4">// &lt;-- S_AXI_WDATA
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span>  [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] ps_to_pl_addr, <span style="color:#6272a4">// &lt;-- S_AXI_WADDR
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span>               ps_to_pl_wen   <span style="color:#6272a4">// write enable
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46</span><span><span style="color:#6272a4"></span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48</span><span><span style="color:#6272a4">// AXI4-LITE wires
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49</span><span><span style="color:#6272a4"></span><span style="color:#8be9fd">reg</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span> <span style="color:#ff79c6">:</span> <span style="color:#bd93f9">0</span>] 	r_axi_awaddr;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50</span><span><span style="color:#8be9fd">reg</span>  	            r_axi_awready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51</span><span><span style="color:#8be9fd">reg</span>  	            r_axi_wready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52</span><span><span style="color:#8be9fd">reg</span> [<span style="color:#bd93f9">1</span> <span style="color:#ff79c6">:</span> <span style="color:#bd93f9">0</span>] 	    r_axi_bresp;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53</span><span><span style="color:#8be9fd">reg</span>  	            r_axi_bvalid   <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54</span><span><span style="color:#8be9fd">reg</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span> <span style="color:#ff79c6">:</span> <span style="color:#bd93f9">0</span>] 	r_axi_araddr;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55</span><span><span style="color:#8be9fd">reg</span>  	            r_axi_arready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56</span><span><span style="color:#8be9fd">reg</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span> <span style="color:#ff79c6">:</span> <span style="color:#bd93f9">0</span>] 	r_axi_rdata;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57</span><span><span style="color:#8be9fd">reg</span> [<span style="color:#bd93f9">1</span> <span style="color:#ff79c6">:</span> <span style="color:#bd93f9">0</span>] 	    r_axi_rresp;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58</span><span><span style="color:#8be9fd">reg</span>  	            r_axi_rvalid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60</span><span><span style="color:#ff79c6">assign</span> S_AXI_AWREADY  <span style="color:#ff79c6">=</span> r_axi_awready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61</span><span><span style="color:#ff79c6">assign</span> S_AXI_WREADY	  <span style="color:#ff79c6">=</span> r_axi_wready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62</span><span><span style="color:#ff79c6">assign</span> S_AXI_BRESP	  <span style="color:#ff79c6">=</span> r_axi_bresp;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63</span><span><span style="color:#ff79c6">assign</span> S_AXI_BVALID	  <span style="color:#ff79c6">=</span> r_axi_bvalid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64</span><span><span style="color:#ff79c6">assign</span> S_AXI_ARREADY  <span style="color:#ff79c6">=</span> r_axi_arready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65</span><span><span style="color:#ff79c6">assign</span> S_AXI_RDATA	  <span style="color:#ff79c6">=</span> r_axi_rdata;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66</span><span><span style="color:#ff79c6">assign</span> S_AXI_RRESP	  <span style="color:#ff79c6">=</span> r_axi_rresp;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67</span><span><span style="color:#ff79c6">assign</span> S_AXI_RVALID	  <span style="color:#ff79c6">=</span> r_axi_rvalid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69</span><span><span style="color:#8be9fd">reg</span> r_aw_en;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71</span><span><span style="color:#6272a4">// r_axi_awready //
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> S_AXI_ACLK ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73</span><span>    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>S_AXI_ARESETN) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74</span><span>        r_axi_awready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75</span><span>        r_aw_en       <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78</span><span>        <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">~</span>r_axi_awready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_AWVALID <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_WVALID <span style="color:#ff79c6">&amp;&amp;</span> r_aw_en) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79</span><span>            r_axi_awready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80</span><span>            r_aw_en       <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82</span><span>        <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span> (S_AXI_BREADY <span style="color:#ff79c6">&amp;&amp;</span> r_axi_bvalid) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83</span><span>            r_axi_awready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84</span><span>            r_aw_en       <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86</span><span>        <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87</span><span>            r_axi_awready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92</span><span><span style="color:#6272a4">// r_axi_awaddr //
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> S_AXI_ACLK ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94</span><span>    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>S_AXI_ARESETN) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95</span><span>        r_axi_awaddr <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98</span><span>        <span style="color:#ff79c6">if</span>(<span style="color:#ff79c6">~</span>r_axi_awready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_AWVALID <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_WVALID <span style="color:#ff79c6">&amp;&amp;</span> r_aw_en) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99</span><span>            r_axi_awaddr <span style="color:#ff79c6">&lt;=</span> S_AXI_AWADDR;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104</span><span><span style="color:#6272a4">// r_axi_wready //
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">105</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">always</span> @(<span style="color:#ff79c6">posedge</span> S_AXI_ACLK ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">106</span><span>    <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">!</span>S_AXI_ARESETN) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">107</span><span>        r_axi_wready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">108</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">109</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">110</span><span>        <span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">~</span>r_axi_awready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_AWVALID <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_WVALID <span style="color:#ff79c6">&amp;&amp;</span> r_aw_en) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">111</span><span>            r_axi_wready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">112</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">113</span><span>        <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">114</span><span>            r_axi_wready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">115</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">116</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">117</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">118</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">119</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">120</span><span><span style="color:#ff79c6">always</span> @( <span style="color:#ff79c6">posedge</span> S_AXI_ACLK )<span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">121</span><span>    <span style="color:#ff79c6">if</span> ( S_AXI_ARESETN <span style="color:#ff79c6">==</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span> ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">122</span><span>        r_axi_bvalid  <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">123</span><span>        r_axi_bresp   <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">2</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">124</span><span>    <span style="color:#ff79c6">end</span> 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">125</span><span>    <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>    
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">126</span><span>        <span style="color:#ff79c6">if</span> (r_axi_awready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_AWVALID <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#ff79c6">~</span>r_axi_bvalid <span style="color:#ff79c6">&amp;&amp;</span> r_axi_wready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_WVALID) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">127</span><span>            r_axi_bvalid <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">128</span><span>            r_axi_bresp  <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">2</span><span style="color:#bd93f9">&#39;b0</span>; <span style="color:#6272a4">// &#39;OKAY&#39; response 
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">129</span><span><span style="color:#6272a4"></span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">130</span><span>        <span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">131</span><span>            <span style="color:#ff79c6">if</span> (S_AXI_BREADY <span style="color:#ff79c6">&amp;&amp;</span> r_axi_bvalid) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">132</span><span>                r_axi_bvalid <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>; 
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">133</span><span>            <span style="color:#ff79c6">end</span>  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">134</span><span>        <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">135</span><span>    <span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">136</span><span><span style="color:#ff79c6">end</span>   
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">137</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">138</span><span><span style="color:#6272a4">// PL Write //
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">139</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">assign</span> ps_to_pl_addr <span style="color:#ff79c6">=</span> r_axi_awaddr;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">140</span><span><span style="color:#ff79c6">assign</span> ps_to_pl_data <span style="color:#ff79c6">=</span> S_AXI_WDATA;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">141</span><span><span style="color:#ff79c6">assign</span> ps_to_pl_wen <span style="color:#ff79c6">=</span> r_axi_wready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_WVALID <span style="color:#ff79c6">&amp;&amp;</span> r_axi_awready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_AWVALID;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">142</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">143</span><span><span style="color:#ff79c6">assign</span> S_AXI_AWREADY <span style="color:#ff79c6">=</span> r_axi_awready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">144</span><span><span style="color:#ff79c6">assign</span> S_AXI_WREADY  <span style="color:#ff79c6">=</span> r_axi_wready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">145</span><span><span style="color:#ff79c6">assign</span> S_AXI_BRESP   <span style="color:#ff79c6">=</span> r_axi_bresp;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">146</span><span><span style="color:#ff79c6">assign</span> S_AXI_BVALID  <span style="color:#ff79c6">=</span> r_axi_bvalid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">147</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">148</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">149</span><span><span style="color:#6272a4">// Read address &amp;&amp; response //
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">150</span><span><span style="color:#6272a4"></span><span style="color:#ff79c6">always</span> @( <span style="color:#ff79c6">posedge</span> S_AXI_ACLK ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">151</span><span>	<span style="color:#ff79c6">if</span> ( S_AXI_ARESETN <span style="color:#ff79c6">==</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span> ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">152</span><span>		r_axi_arready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">153</span><span>		r_axi_araddr  <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">32</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">154</span><span>	<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">155</span><span>	<span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">156</span><span>		<span style="color:#ff79c6">if</span> (<span style="color:#ff79c6">~</span>r_axi_arready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_ARVALID) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">157</span><span>			r_axi_arready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">158</span><span>			r_axi_araddr  <span style="color:#ff79c6">&lt;=</span> S_AXI_ARADDR;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">159</span><span>		<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">160</span><span>		<span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">161</span><span>			r_axi_arready <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">162</span><span>		<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">163</span><span>	<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">164</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">165</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">166</span><span><span style="color:#ff79c6">always</span> @( <span style="color:#ff79c6">posedge</span> S_AXI_ACLK ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">167</span><span>	<span style="color:#ff79c6">if</span> ( S_AXI_ARESETN <span style="color:#ff79c6">==</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span> ) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">168</span><span>		r_axi_rvalid <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">169</span><span>		r_axi_rresp  <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">170</span><span>	<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">171</span><span>	<span style="color:#ff79c6">else</span> <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">172</span><span>		<span style="color:#ff79c6">if</span> (r_axi_arready <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_ARVALID <span style="color:#ff79c6">&amp;&amp;</span> <span style="color:#ff79c6">~</span>r_axi_rvalid) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">173</span><span>			r_axi_rvalid <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b1</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">174</span><span>			r_axi_rresp  <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">2</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">175</span><span>		<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">176</span><span>		<span style="color:#ff79c6">else</span> <span style="color:#ff79c6">if</span> (r_axi_rvalid <span style="color:#ff79c6">&amp;&amp;</span> S_AXI_RREADY) <span style="color:#ff79c6">begin</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">177</span><span>			r_axi_rvalid <span style="color:#ff79c6">&lt;=</span> <span style="color:#bd93f9">1</span><span style="color:#bd93f9">&#39;b0</span>;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">178</span><span>		<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">179</span><span>	<span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">180</span><span><span style="color:#ff79c6">end</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">181</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">182</span><span><span style="color:#ff79c6">assign</span> pl_to_ps_ren <span style="color:#ff79c6">=</span> r_axi_arready <span style="color:#ff79c6">&amp;</span> S_AXI_ARVALID <span style="color:#ff79c6">&amp;</span> <span style="color:#ff79c6">~</span>r_axi_rvalid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">183</span><span><span style="color:#ff79c6">assign</span> pl_to_ps_addr <span style="color:#ff79c6">=</span> r_axi_araddr;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">184</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">185</span><span><span style="color:#ff79c6">assign</span> S_AXI_ARREADY <span style="color:#ff79c6">=</span> r_axi_arready;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">186</span><span><span style="color:#ff79c6">assign</span> S_AXI_RDATA   <span style="color:#ff79c6">=</span> pl_to_ps_data;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">187</span><span><span style="color:#ff79c6">assign</span> S_AXI_RRESP   <span style="color:#ff79c6">=</span> r_axi_rresp;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">188</span><span><span style="color:#ff79c6">assign</span> S_AXI_RVALID  <span style="color:#ff79c6">=</span> r_axi_rvalid;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">189</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">190</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">191</span><span><span style="color:#ff79c6">endmodule</span></span></span></code></pre></div>
<p>lib_axi2local.v 코드를 살펴보자.</p>
<ul>
<li>
<p>8~35 Line : AXI4-LITE 인터페이스 포트다. LED 제어/상태 데이터가 이동한다.</p>
</li>
<li>
<p>39~45 Line : PL로부터 LED의 상태 정보를 읽어 pl_to_ps_data로 들어오면 AXI4-LITE 프로토콜에 의해 pl_to_ps_data는 S_AXI_RDATA로 전달되어 PS로 이동한다.</p>
</li>
<li>
<p>71~146 Line : AXI4-LITE 프로토콜 구현 부분. 자세한 내용은 (AXI4-프로토콜 문서 참고)</p>
</li>
</ul>
<p> </p>
<h3 id="324-led_topv">     3.2.4 led_top.v <a href="#324-led_topv" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3>

    
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  1</span><span><span style="color:#ff79c6">module</span> led_top
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  2</span><span>#(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  3</span><span>    <span style="color:#ff79c6">parameter</span> AXI_AW <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">12</span>,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  4</span><span>    <span style="color:#ff79c6">parameter</span> AXI_DW <span style="color:#ff79c6">=</span> <span style="color:#bd93f9">32</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  5</span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  6</span><span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  7</span><span>    <span style="color:#6272a4">// CLK , RST
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  8</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_ACLK,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">  9</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_ARESETN,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 11</span><span>    <span style="color:#6272a4">// write address(AW)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 12</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_AWADDR,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 13</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_AWVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 14</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_AWREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 15</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 16</span><span>    <span style="color:#6272a4">// write data(W)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 17</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_WDATA,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 18</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_WVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 19</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_WREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 20</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 21</span><span>    <span style="color:#6272a4">// write response(B)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 22</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_BREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 23</span><span>    <span style="color:#ff79c6">output</span> [<span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]        S_AXI_BRESP,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 24</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_BVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 25</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 26</span><span>    <span style="color:#6272a4">// Read Address(AR)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 27</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span> [AXI_AW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]  S_AXI_ARADDR,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 28</span><span>    <span style="color:#ff79c6">input</span>               S_AXI_ARVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 29</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_ARREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 30</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 31</span><span>    <span style="color:#6272a4">// Read Data(R)
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 32</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">input</span>               S_AXI_RREADY,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 33</span><span>    <span style="color:#ff79c6">output</span> [AXI_DW<span style="color:#ff79c6">-</span><span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>] S_AXI_RDATA,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 34</span><span>    <span style="color:#ff79c6">output</span> [<span style="color:#bd93f9">1</span><span style="color:#ff79c6">:</span><span style="color:#bd93f9">0</span>]        S_AXI_RRESP,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 35</span><span>    <span style="color:#ff79c6">output</span>              S_AXI_RVALID,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 36</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 37</span><span>    <span style="color:#6272a4">// LED CTRL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 38</span><span><span style="color:#6272a4"></span>    <span style="color:#ff79c6">output</span> led_1_on_result,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 39</span><span>    <span style="color:#ff79c6">output</span> led_2_on_result,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 40</span><span>    <span style="color:#ff79c6">output</span> led_3_on_result,
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 41</span><span>    <span style="color:#ff79c6">output</span> led_4_on_result  
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 42</span><span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 43</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 44</span><span><span style="color:#8be9fd">wire</span> sw_rst;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 45</span><span><span style="color:#8be9fd">wire</span> led_1_on;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 46</span><span><span style="color:#8be9fd">wire</span> led_2_on;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 47</span><span><span style="color:#8be9fd">wire</span> led_3_on;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 48</span><span><span style="color:#8be9fd">wire</span> led_4_on;
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 49</span><span>lib_regmap
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 50</span><span>#(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 51</span><span>    .AXI_AW(<span style="color:#bd93f9">12</span>),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 52</span><span>    .AXI_DW(<span style="color:#bd93f9">32</span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 53</span><span>)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 54</span><span>u_led_regmap
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 55</span><span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 56</span><span>    .S_AXI_ACLK     (S_AXI_ACLK),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 57</span><span>    .S_AXI_ARESETN  (S_AXI_ARESETN),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 58</span><span>    .S_AXI_AWADDR   (S_AXI_AWADDR),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 59</span><span>    .S_AXI_AWVALID  (S_AXI_AWVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 60</span><span>    .S_AXI_AWREADY  (S_AXI_AWREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 61</span><span>    .S_AXI_WDATA    (S_AXI_WDATA),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 62</span><span>    .S_AXI_WVALID   (S_AXI_WVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 63</span><span>    .S_AXI_WREADY   (S_AXI_WREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 64</span><span>    .S_AXI_BREADY   (S_AXI_BREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 65</span><span>    .S_AXI_BRESP    (S_AXI_BRESP),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 66</span><span>    .S_AXI_BVALID   (S_AXI_BVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 67</span><span>    .S_AXI_ARADDR   (S_AXI_ARADDR),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 68</span><span>    .S_AXI_ARVALID  (S_AXI_ARVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 69</span><span>    .S_AXI_ARREADY  (S_AXI_ARREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 70</span><span>    .S_AXI_RREADY   (S_AXI_RREADY),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 71</span><span>    .S_AXI_RDATA    (S_AXI_RDATA),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 72</span><span>    .S_AXI_RRESP    (S_AXI_RRESP),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 73</span><span>    .S_AXI_RVALID   (S_AXI_RVALID),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 74</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 75</span><span>    .in1            (led_1_on_result),  <span style="color:#6272a4">//PL -&gt; PS
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 76</span><span><span style="color:#6272a4"></span>    .in2            (led_2_on_result),  <span style="color:#6272a4">//PL -&gt; PS
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 77</span><span><span style="color:#6272a4"></span>    .in3            (led_3_on_result),  <span style="color:#6272a4">//PL -&gt; PS
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 78</span><span><span style="color:#6272a4"></span>    .in4            (led_4_on_result),  <span style="color:#6272a4">//PL -&gt; PS
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 79</span><span><span style="color:#6272a4"></span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 80</span><span>    .out1           (sw_rst),    <span style="color:#6272a4">//PS -&gt; PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 81</span><span><span style="color:#6272a4"></span>    .out2           (led_1_on),   <span style="color:#6272a4">//PS -&gt; PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 82</span><span><span style="color:#6272a4"></span>    .out3           (led_2_on),  <span style="color:#6272a4">//PS -&gt; PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 83</span><span><span style="color:#6272a4"></span>    .out4           (led_3_on),   <span style="color:#6272a4">//PS -&gt; PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 84</span><span><span style="color:#6272a4"></span>    .out5           (led_4_on)   <span style="color:#6272a4">//PS -&gt; PL
</span></span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 85</span><span><span style="color:#6272a4"></span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 86</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 87</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 88</span><span>led_ctrl u_led_ctrl
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 89</span><span>(
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 90</span><span>    .clk            (S_AXI_ACLK),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 91</span><span>    .rst            (<span style="color:#ff79c6">!</span>S_AXI_ARESETN),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 92</span><span>    .sw_rst         (sw_rst),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 93</span><span>    .din_led_1_on   (led_1_on),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 94</span><span>    .din_led_2_on   (led_2_on),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 95</span><span>    .din_led_3_on   (led_3_on),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 96</span><span>    .din_led_4_on   (led_4_on),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 97</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 98</span><span>    .dout_led_1_on  (led_1_on_result),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 99</span><span>    .dout_led_2_on  (led_2_on_result),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">100</span><span>    .dout_led_3_on  (led_3_on_result),
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">101</span><span>    .dout_led_4_on  (led_4_on_result)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">102</span><span>);
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">103</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">104</span><span><span style="color:#ff79c6">endmodule</span></span></span></code></pre></div>
<p>led_top.v 코드를 살펴보자.</p>
<p>사실 특별한건 없다. 하위 모듈을 라우팅하는 부분이다.</p>
<p> </p>
<h3 id="325-zybo-z7-masterxdc">     3.2.5 Zybo-Z7-Master.xdc <a href="#325-zybo-z7-masterxdc" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3>

    
    <div class="highlight"><pre tabindex="0" style="color:#f8f8f2;background-color:#282a36;"><code class="language-verilog" data-lang="verilog"><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 1</span><span>## This file is a general .xdc <span style="color:#ff79c6">for</span> the Zybo Z7 Rev. B
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 2</span><span>## It is compatible with the Zybo Z7<span style="color:#ff79c6">-</span><span style="color:#bd93f9">20</span> <span style="color:#ff79c6">and</span> Zybo Z7<span style="color:#ff79c6">-</span><span style="color:#bd93f9">10</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 3</span><span>## To use it in a <span style="color:#8be9fd;font-style:italic">project:</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 4</span><span>## <span style="color:#ff79c6">-</span> uncomment the lines corresponding to used pins
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 5</span><span>## <span style="color:#ff79c6">-</span> rename the used ports (in each line, after get_ports) according to the top level signal names in the project
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 6</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 7</span><span>##Clock signal
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 8</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN K17   IOSTANDARD LVCMOS33 } [get_ports { sysclk }]; #IO_L12P_T1_MRCC_35 Sch<span style="color:#ff79c6">=</span>sysclk
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f"> 9</span><span>create_clock <span style="color:#ff79c6">-</span>add <span style="color:#ff79c6">-</span>name sys_clk_pin <span style="color:#ff79c6">-</span>period <span style="color:#bd93f9">8.00</span> <span style="color:#ff79c6">-</span>waveform {<span style="color:#bd93f9">0</span> <span style="color:#bd93f9">4</span>} [get_ports { sysclk }];
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">10</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">11</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">12</span><span>##Switches
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">13</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN G15   IOSTANDARD LVCMOS33 } [get_ports { sw[<span style="color:#bd93f9">0</span>] }]; #IO_L19N_T3_VREF_35 Sch<span style="color:#ff79c6">=</span>sw[<span style="color:#bd93f9">0</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">14</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN P15   IOSTANDARD LVCMOS33 } [get_ports { sw[<span style="color:#bd93f9">1</span>] }]; #IO_L24P_T3_34 Sch<span style="color:#ff79c6">=</span>sw[<span style="color:#bd93f9">1</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">15</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN W13   IOSTANDARD LVCMOS33 } [get_ports { sw[<span style="color:#bd93f9">2</span>] }]; #IO_L4N_T0_34 Sch<span style="color:#ff79c6">=</span>sw[<span style="color:#bd93f9">2</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">16</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN T16   IOSTANDARD LVCMOS33 } [get_ports { sw[<span style="color:#bd93f9">3</span>] }]; #IO_L9P_T1_DQS_34 Sch<span style="color:#ff79c6">=</span>sw[<span style="color:#bd93f9">3</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">17</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">18</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">19</span><span>##Buttons
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">20</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN K18   IOSTANDARD LVCMOS33 } [get_ports { btn[<span style="color:#bd93f9">0</span>] }]; #IO_L12N_T1_MRCC_35 Sch<span style="color:#ff79c6">=</span>btn[<span style="color:#bd93f9">0</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">21</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN P16   IOSTANDARD LVCMOS33 } [get_ports { btn[<span style="color:#bd93f9">1</span>] }]; #IO_L24N_T3_34 Sch<span style="color:#ff79c6">=</span>btn[<span style="color:#bd93f9">1</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">22</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN K19   IOSTANDARD LVCMOS33 } [get_ports { btn[<span style="color:#bd93f9">2</span>] }]; #IO_L10P_T1_AD11P_35 Sch<span style="color:#ff79c6">=</span>btn[<span style="color:#bd93f9">2</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">23</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN Y16   IOSTANDARD LVCMOS33 } [get_ports { btn[<span style="color:#bd93f9">3</span>] }]; #IO_L7P_T1_34 Sch<span style="color:#ff79c6">=</span>btn[<span style="color:#bd93f9">3</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">24</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">25</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">26</span><span>##LEDs
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">27</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN M14   IOSTANDARD LVCMOS33 } [get_ports { led_1_on_result_0 }]; #IO_L23P_T3_35 Sch<span style="color:#ff79c6">=</span>led[<span style="color:#bd93f9">0</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">28</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN M15   IOSTANDARD LVCMOS33 } [get_ports { led_2_on_result_0 }]; #IO_L23N_T3_35 Sch<span style="color:#ff79c6">=</span>led[<span style="color:#bd93f9">1</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">29</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN G14   IOSTANDARD LVCMOS33 } [get_ports { led_3_on_result_0 }]; #IO_0_35 Sch<span style="color:#ff79c6">=</span>led[<span style="color:#bd93f9">2</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">30</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN D18   IOSTANDARD LVCMOS33 } [get_ports { led_4_on_result_0 }]; #IO_L3N_T0_DQS_AD1N_35 Sch<span style="color:#ff79c6">=</span>led[<span style="color:#bd93f9">3</span>]
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">31</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">32</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">33</span><span>##RGB LED <span style="color:#bd93f9">5</span> (Zybo Z7<span style="color:#ff79c6">-</span><span style="color:#bd93f9">20</span> only)
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">34</span><span>#set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN Y11   IOSTANDARD LVCMOS33 } [get_ports { led5_r }]; #IO_L18N_T2_13 Sch<span style="color:#ff79c6">=</span>led5_r
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">35</span><span>#set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN T5    IOSTANDARD LVCMOS33 } [get_ports { led5_g }]; #IO_L19P_T3_13 Sch<span style="color:#ff79c6">=</span>led5_g
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">36</span><span>#set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN Y12   IOSTANDARD LVCMOS33 } [get_ports { led5_b }]; #IO_L20P_T3_13 Sch<span style="color:#ff79c6">=</span>led5_b
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">37</span><span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">38</span><span>##RGB LED <span style="color:#bd93f9">6</span>
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">39</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN V16   IOSTANDARD LVCMOS33 } [get_ports { led6_r }]; #IO_L18P_T2_34 Sch<span style="color:#ff79c6">=</span>led6_r
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">40</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN F17   IOSTANDARD LVCMOS33 } [get_ports { led6_g }]; #IO_L6N_T0_VREF_35 Sch<span style="color:#ff79c6">=</span>led6_g
</span></span><span style="display:flex;"><span style="white-space:pre;-webkit-user-select:none;user-select:none;margin-right:0.4em;padding:0 0.4em 0 0.4em;color:#7f7f7f">41</span><span>set_property <span style="color:#ff79c6">-</span>dict { PACKAGE_PIN M17   IOSTANDARD LVCMOS33 } [get_ports { led6_b }]; #IO_L8P_T1_AD10P_35 Sch<span style="color:#ff79c6">=</span>led6_b</span></span></code></pre></div>
<p>xdc 파일은 PL에서 LED 상태 정보 신호를 읽어 실제 FPGA LED HW 회로에 연결하도록 정의하는 파일이다.</p>
<p>27-30 Line이 의미하는 바는 led_(1,2,3,4)_on_result_0 포트를 각각 FPGA핀 M14, M15, G14, D18에 연결하겠다는 의미다.</p>
<p>M14, M15, G14, D18핀이 곧 LED1~LED4를 제어하는 핀이다. PS로 부터 LED를 켜라는 명령을 받으면 PL의 led_ctrl.v에서 LED를 켜기 위해 1을 내보낸다. 그러면 LVCMOS33에 해당하는 전압이 방출되어 M14, M15, G14, D18핀에 공급된다. 그리고 LED가 실제로 켜진다.</p>
<p>M14, M15, G14, D18핀이 LED핀과 연결되는지 알 수 있는 방법은 회로도를 보는 것이다.</p>
<p><a href="https://digilent.com/reference/_media/reference/programmable-logic/zybo/zybo_sch.pdf?srsltid=AfmBOopNZVIkscMnF8CmGXuTW2xjPljicWR5rEVrtv6ky_yxk8rx1tCQ" rel="external" target="_blank">https://digilent.com/reference/_media/reference/programmable-logic/zybo/zybo_sch.pdf?srsltid=AfmBOopNZVIkscMnF8CmGXuTW2xjPljicWR5rEVrtv6ky_yxk8rx1tCQ<svg width="16" height="16" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg"><path fill="currentColor" d="M14 5c-.552 0-1-.448-1-1s.448-1 1-1h6c.552 0 1 .448 1 1v6c0 .552-.448 1-1 1s-1-.448-1-1v-3.586l-7.293 7.293c-.391.39-1.024.39-1.414 0-.391-.391-.391-1.024 0-1.414l7.293-7.293h-3.586zm-9 2c-.552 0-1 .448-1 1v11c0 .552.448 1 1 1h11c.552 0 1-.448 1-1v-4.563c0-.552.448-1 1-1s1 .448 1 1v4.563c0 1.657-1.343 3-3 3h-11c-1.657 0-3-1.343-3-3v-11c0-1.657 1.343-3 3-3h4.563c.552 0 1 .448 1 1s-.448 1-1 1h-4.563z"/></svg></a></p>
<p>위 링크에 접속하면 Zybo-Z7-10의 회로도를 볼 수 있다. M14, M15, G14, D18핀을 검색해보면 LED와 연결되어 있음을 확인할 수 있다.</p>
<h3 id="33-vivado-프로젝트-구성">3.3 Vivado 프로젝트 구성 <a href="#33-vivado-%ed%94%84%eb%a1%9c%ec%a0%9d%ed%8a%b8-%ea%b5%ac%ec%84%b1" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3><p>이제 Vivado 프로젝트를 구성할 차례다.</p>
<ol>
<li>
<p>Zybo-z7-10 파트로 Vivado 프로젝트를 생성한다. (만약 다른 보드라면 해당 파츠에 맞게 생성)</p>
</li>
<li>
<p>lib_regmap.v, led_ctrl.v, lib_axi2local.v, led_top.v 4개의 코드를 Design Sources에 추가한다.</p>
</li>
<li>
<p>Zybo-z7-Master.xdc를 Constraints에 추가한다. (만약 다른 보드라면 회로도를 보고 LED핀을 찾아서 수정해야 한다.)</p>
</li>
<li>
<p>Create Block Design 클릭 -&gt; 빈 공간에 마우스 오른쪽 클릭 -&gt; &ldquo;Add Module&rdquo; 클릭 -&gt; led_top.v를 선택해 추가한다.</p>
</li>
<li>
<p>아래 그림과 같이 Block Design을 구성한다. led_top_v1_0을 제외한 모든 IP는 ctrl+I를 누른 뒤 검색으로 추가 가능하다.</p>
<p>





  



  
    
      <img src="/images/content/led_demo_block_design.png" alt="Internal link preview tooltip" width="1574" height="781" loading="lazy">
    
  
</p>
<p>Block Design을 구성하는 IP에 대해 간단히 설명한다.</p>
<ul>
<li>ZYNQ7 Processing System : Zynq-Z7-10보드에 탑재되어 있는 PS영역 IP다. (다른 보드를 쓴다면 보드에 맞는 PS IP를 사용하자)</li>
<li>Processor System Reset : PS영역 및 PL영역에 Reset을 인가하는 IP다.</li>
<li>AXI Interconnect : PS와 PL영역을 AXI4-LITE 프로토콜로 연결해주는 IP다.</li>
<li>AXI Protocol Checker : PS-PL간 데이터 전송이 이루어 질 때 AXI4-LITE 프로토콜을 만족하는 검사하는 IP다.</li>
<li>led_top_v1_0 : PS영역으로 부터 명령을 받아 LED를 켜거나 끄고, 현재 LED 상태를 전송하는 PL 로직이다.</li>
<li>ILA : AXI Protocol Checker에서 프로토콜을 검사한 결과를 보기 위한 IP다.
 <br>
 </li>
</ul>
<p>PS, PL 인터페이스를 구성할 때, 위 Block Design과 같은 구성은 가장 기본이 되고 가장 많이 쓰이는 형태니 꼭 기억하자.</p>
</li>
<li>
<p>Diagram 옆에 있는 Address Editor를 클릭하고 Master Base Address를 확인한다.</p>
<p>





  



  
    
      <img src="/images/content/led_demo_address.png" alt="Internal link preview tooltip" width="910" height="214" loading="lazy">
    
  
</p>
<p>Master Base Address는 레지스터 맵의 시작 주소를 의미한다. 만약 0x4000_0000에 PS영역이 PL의 LED 상태를 초기화 하는 리셋 명령 데이터를 준다고 가정하자(데이터가 1일 때 리셋).</p>
<p>그러면 PL은 0x4000_0000 주소에서 데이터를 읽을 때 만약 그 데이터가 1이라면 LED 리셋을 수행한다.</p>
<p>만약 0x4000_0004에 PS영역이 LED1을 켜는 명령을 준다고 가정하자(데이터가 1일 때 LED1 ON). 그러면 PL은 0x4000_0000 주소에서 데이터를 읽을 때 그 데이터가 1이라면 LED1을 켠다.</p>
<p>그리고 위의 PS,PL이 레지스터 맵에 데이터를 쓰거나 읽는 모든 과정은 AXI4-LITE 프로토콜을 기반으로 동작한다.</p>
</li>
<li>
<p>F6을 눌러 Validate Design을 수행한다</p>
</li>
<li>
<p>Design Source의 design_1.bd파일을 마우스 오른쪽 클릭 -&gt; Create HDL Wrapper 클릭</p>
<p>





  



  
    
      <img src="/images/content/led_demo_HDL_wrapper.png" alt="Internal link preview tooltip" width="452" height="140" loading="lazy">
    
  
</p>
</li>
<li>
<p>design_1_wrapper.v가 생성되었는지 확인한다.</p>
<p>





  



  
    
      <img src="/images/content/led_demo_HDL_wrapper_check.png" alt="Internal link preview tooltip" width="352" height="94" loading="lazy">
    
  
</p>
</li>
<li>
<p>design_1_wrapper.v 오른쪽 마우스 클릭 -&gt; set as Top 선택 (버튼이 비활성화 되어 있으면 안해도 됨)</p>
</li>
<li>
<p>Generate Bitstream 오른쪽 마우스 클릭 -&gt; Bitstream Settings 클릭 -&gt; -bin_file* 체크하기</p>
<p>





  



  
    
      <img src="/images/content/led_demo_bitstream_set.png" alt="Internal link preview tooltip" width="1101" height="353" loading="lazy">
    
  
</p>
</li>
<li>
<p>Generate Bitstream 클릭</p>
</li>
</ol>
<p> </p>
<h3 id="34-petalinux-빌드">3.4 Petalinux 빌드 <a href="#34-petalinux-%eb%b9%8c%eb%93%9c" class="anchor" aria-hidden="true"><i class="material-icons align-middle">link</i></a></h3><p>3.3 11번에서 생성된 .bin파일을 Petalinux에 옮길 차례다. 보통 bin파일 생성 경로는 아래와 같다.</p>
<pre><code>ex) &lt;프로젝트 이름&gt;.runs/impl_1/design_1_wrapper.bin   
</code></pre>
<p> </p>
<p>※ 만약 3.3항목의 4번에서 Create Block Design을 할 때 이름을 수정했다면 design_1_wrapper.bin이 다른 이름으로 생성되었을 것이다.</p>
<ol>
<li>
<p>Petalinux가 포팅된 Zybo-Z7-10 보드 전원을 SD카드 모드로 부팅하고 FPGA보드와 컴퓨터를 이더넷으로 연결한다.</p>
</li>
<li>
<p>Petalinux가 부팅되면 login을 root로 한다. 비밀번호도 root</p>
<p>





  



  
    
      <img src="/images/content/led_demo_peta_boot.png" alt="Internal link preview tooltip" width="453" height="110" loading="lazy">
    
  
</p>
</li>
<li>
<p>윈도우에서 새롭게 터미널을 하나 연다.</p>
</li>
<li>
<p>새롭게 연 터미널에서 &ldquo;scp -O design_wrapper.bin root@&lt;ip 주소&gt;:&lt;bin파일 저장 경로&gt;&rdquo; 명령어를 입력한다.</p>


    
    <pre tabindex="0"><code>    ex) scp -O design_wrapper.bin root@192.168.255.10:/home/root</code></pre>
</li>
<li>
<p>비밀번호는 root</p>
</li>
<li>
<p>아래 그림과 같이 비트 파일이 이동하면 성공</p>
<p>





  



  
    
      <img src="/images/content/led_demo_bitstream_scp.png" alt="Internal link preview tooltip" width="1120" height="313" loading="lazy">
    
  
</p>
</li>
<li>
<p>fpgautil -b design_wrapper.bin 명령어 입력</p>


    
    <pre tabindex="0"><code>    fpgautil -b design_wrapper.bin</code></pre>
<p> </p>
</li>
<li>
<p>아래 그림과 같이 비트파일이 정상적으로 올라가면 성공이다.</p>
<p>





  



  
    
      <img src="/images/content/led_demo_fpgautil.png" alt="Internal link preview tooltip" width="465" height="117" loading="lazy">
    
  
</p>
<p> </p>
</li>
<li>
<p>Petalinux에서 &ldquo;devmem 0x40000004 32 1&rdquo; 명령어를 입력한다.</p>


    
    <pre tabindex="0"><code>devmem 0x40000004 32 1</code></pre>
<p> </p>
<p>





  



  
    
      <img src="/images/content/led_demo_led.png" alt="Internal link preview tooltip" width="1440" height="1080" loading="lazy">
    
  
</p>
<p> </p>
<p>위 명령어는 PS에서 레지스터 맵 0x4000_0004주소에 데이터 1을 쓴다는 의미이다. lib_regmap.v에서 0x4000_0004는 LED1을 켜는 제어 신호이다. FPGA 보드의 LED1이 켜짐을 확인할 수 있다.</p>
</li>
<li>
<p>Petalinux에서 &ldquo;devmem 0x40000014&rdquo; 명령어를 입력한다.</p>


    
    <pre tabindex="0"><code>devmem 0x40000014&#34;</code></pre>
<p> </p>
<p>





  



  
    
      <img src="/images/content/led_demo_bitstream_led1_read.png" alt="Internal link preview tooltip" width="437" height="61" loading="lazy">
    
  
</p>
<p>위 명령어는 PS가 레지스터 맵 0x4000_0014주소에서 데이터를 읽어 오겠다는 의미이다. lib_regmap.v에서 0x4000_0014에 LED1의 현재 상태을 저장한다. 데이터 1이 읽히면 정상적으로 LED1이 켜져있다는 신호다.</p>
</li>
<li>
<p>Petalinux에서 &ldquo;devmem 0x40000008 32 1&rdquo; 명령어를 입력한다.</p>


    
    <pre tabindex="0"><code>devmem 0x40000008 32 1</code></pre>
<p> </p>
<p>





  



  
    
      <img src="/images/content/led_demo_led2.png" alt="Internal link preview tooltip" width="1440" height="1080" loading="lazy">
    
  
</p>
<p>LED2가 켜짐을 확인할 수 있다.</p>
</li>
<li>
<p>Petalinux에서 &ldquo;devmem 0x40000018&rdquo; 명령어를 입력한다.</p>


    
    <pre tabindex="0"><code>devmem 0x40000018&#34;</code></pre>
<p> </p>
<p>





  



  
    
      <img src="/images/content/led_demo_bitstream_led2_read.png" alt="Internal link preview tooltip" width="392" height="75" loading="lazy">
    
  
</p>
</li>
<li>
<p>같은 방식으로 led3, led4도 PS에서 제어하여 켜거나 끌 수 있다. 그리고 LED 상태 역시 동일하게 읽을 수 있다.</p>
</li>
</ol>

    </div>

    

    
                                            </div>
                                            <div><hr class="doc-hr">
<div id="doc-nav" class="d-print-none">

	<div class="row flex-xl-nowrap ">
	<div class="col-sm-6 pt-2 doc-prev">
		<a class="ms-auto" href="/docs/dsp/decimation_downsampling/">
			<div class="card h-100 my-1 text-end">
				<div class="card-body py-2">
                    <p class="card-title fs-5 fw-semibold lh-base mb-0">Decimation vs Down-sampling <i class="material-icons align-middle">navigate_next</i></p>
					<p class="card-text me-2"></p>
					
				</div>
			</div>
		</a>
        </div>
	</div>
</div></div>
                                        </div>
                                    </div>
                                </div>
                            </div>
<footer class="shadow py-3 d-print-none">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col">
                <div class="text-sm-start text-center mx-md-2">
                    <p class="mb-0">
                        
                        © 2025 egghwan. All contents protected
                    </p>
                </div>
            </div>
        </div>
    </div>
</footer>
</main>
            </div>
        </div>

        
        
        <button onclick="topFunction()" id="back-to-top" aria-label="Back to Top Button" class="back-to-top fs-5"><svg width="24" height="24"><path d="M12,10.224l-6.3,6.3L4.32,15.152,12,7.472l7.68,7.68L18.3,16.528Z" style="fill:#fff"/></svg></button>
        
        

        
        
            <script>(()=>{var e=document.getElementById("mode");e!==null&&(window.matchMedia("(prefers-color-scheme: dark)").addEventListener("change",e=>{e.matches?(localStorage.setItem("theme","dark"),document.documentElement.setAttribute("data-dark-mode","")):(localStorage.setItem("theme","light"),document.documentElement.removeAttribute("data-dark-mode"))}),e.addEventListener("click",()=>{document.documentElement.toggleAttribute("data-dark-mode"),localStorage.setItem("theme",document.documentElement.hasAttribute("data-dark-mode")?"dark":"light")}),localStorage.getItem("theme")==="dark"?document.documentElement.setAttribute("data-dark-mode",""):document.documentElement.removeAttribute("data-dark-mode"))})()</script>
        




    
    
    






    

    <script src="/docs/js/bootstrap.c7927bdd82eceb076739257add3f4b0e11379da037c07d5c7110daeb6de0e3edcb2de867604550f88815157e4ec4ddb7.js" integrity="sha384-x5J73YLs6wdnOSV63T9LDhE3naA3wH1ccRDa623g4&#43;3LLehnYEVQ&#43;IgVFX5OxN23"defer></script>


    <script type="text/javascript" src="https://egghwan.github.io/docs/js/bundle.min.4b07706b1da436c9600e641a8cf51af20b3e497ead85e0d0af7552a0314e8e317dc63bb69d12c072092518621478900d.js" integrity="sha384-Swdwax2kNslgDmQajPUa8gs&#43;SX6theDQr3VSoDFOjjF9xju2nRLAcgklGGIUeJAN" crossorigin="anonymous" defer></script>

        

        
        <script type="module">
    var suggestions = document.getElementById('suggestions');
    var search = document.getElementById('flexsearch');

    const flexsearchContainer = document.getElementById('FlexSearchCollapse');

    const hideFlexsearchBtn = document.getElementById('hideFlexsearch');

    const configObject = { toggle: false }
    const flexsearchContainerCollapse = new Collapse(flexsearchContainer, configObject) 

    if (search !== null) {
        document.addEventListener('keydown', inputFocus);
        flexsearchContainer.addEventListener('shown.bs.collapse', function () {
            search.focus();
        });
        
        var topHeader = document.getElementById("top-header");
        document.addEventListener('click', function(elem) {
            if (!flexsearchContainer.contains(elem.target) && !topHeader.contains(elem.target))
                flexsearchContainerCollapse.hide();
        });
    }

    hideFlexsearchBtn.addEventListener('click', () =>{
        flexsearchContainerCollapse.hide()
    })

    function inputFocus(e) {
        if (e.ctrlKey && e.key === '/') {
            e.preventDefault();
            flexsearchContainerCollapse.toggle();
        }
        if (e.key === 'Escape' ) {
            search.blur();
            
            flexsearchContainerCollapse.hide();
        }
    };

    document.addEventListener('click', function(event) {

    var isClickInsideElement = suggestions.contains(event.target);

    if (!isClickInsideElement) {
        suggestions.classList.add('d-none');
    }

    });

    


    document.addEventListener('keydown',suggestionFocus);

    function suggestionFocus(e) {
    const suggestionsHidden = suggestions.classList.contains('d-none');
    if (suggestionsHidden) return;

    const focusableSuggestions= [...suggestions.querySelectorAll('a')];
    if (focusableSuggestions.length === 0) return;

    const index = focusableSuggestions.indexOf(document.activeElement);

    if (e.key === "ArrowUp") {
        e.preventDefault();
        const nextIndex = index > 0 ? index - 1 : 0;
        focusableSuggestions[nextIndex].focus();
    }
    else if (e.key === "ArrowDown") {
        e.preventDefault();
        const nextIndex= index + 1 < focusableSuggestions.length ? index + 1 : index;
        focusableSuggestions[nextIndex].focus();
    }

    }

    


    (function(){

    var index = new FlexSearch.Document({
        
        tokenize: "forward",
        minlength:  0 ,
        cache:  100 ,
        optimize:  true ,
        document: {
        id: 'id',
        store: [
            "href", "title", "description"
        ],
        index: ["title", "description", "content"]
        }
    });


    


    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    
    


    

    

    index.add(
            {
                id:  0 ,
                href: "\/docs\/dsp\/",
                title: "Digital-Signal-Processing",
                description: "Digital-Signal-Processign",
                content: ""
            }
        );
    index.add(
            {
                id:  1 ,
                href: "\/docs\/fpga-demo\/",
                title: "FPGA Demo",
                description: "FPGA Demo",
                content: ""
            }
        );
    index.add(
            {
                id:  2 ,
                href: "\/docs\/rtl-ip\/",
                title: "RTL IP",
                description: "RTL IP",
                content: ""
            }
        );
    index.add(
            {
                id:  3 ,
                href: "\/docs\/fpga-demo\/axi4-lite-led_demo\/",
                title: "AXI4-Lite LED Demo",
                description: " 1. 데모 설명 linkAXI4-LITE 프로토콜을 활용하여 FPGA의 PS-PL간 인터페이스 연결을 수행하여 PS에서 PL영역의 LED를 켜거나 끄는 명령을 내리고, PS에서 PL영역의 LED의 현재 상태를 읽어오는 데모에 대해 기술한다.\n보드는 Zybo-Z7-10 보드를 활용하지만 다른 보드에도 응용 가능하다.\n해당 데모를 수행하기 위해 FPGA에 Petalinux가 빌드되어 있어야 한다. (Petalinux 빌드 참고 링크)\n",
                content: " 1. 데모 설명 linkAXI4-LITE 프로토콜을 활용하여 FPGA의 PS-PL간 인터페이스 연결을 수행하여 PS에서 PL영역의 LED를 켜거나 끄는 명령을 내리고, PS에서 PL영역의 LED의 현재 상태를 읽어오는 데모에 대해 기술한다.\n보드는 Zybo-Z7-10 보드를 활용하지만 다른 보드에도 응용 가능하다.\n해당 데모를 수행하기 위해 FPGA에 Petalinux가 빌드되어 있어야 한다. (Petalinux 빌드 참고 링크)\nPetalinux가 없다면 Vitis를 활용해 해당 데모를 재현할 수 있다.\n2. Background linkFPGA로 제품을 구현할 때, "
            }
        );
    index.add(
            {
                id:  4 ,
                href: "\/docs\/dsp\/decimation_downsampling\/",
                title: "Decimation vs Down-sampling",
                description: " 1. 문서 설명 link신호처리를 할 때 Decimation과 down-sampling는 헷갈리는 개념이다.\nDecimation과 down-sampling의 의미에 대해 알아보고, 신호처리 관점 및 RTL구현 관점에서 해당 개념을 기술한다.\n2. 정의 link Decimation : 디지털 신호를 먼저 Low-Pass-Filtering(LPF)를 수행하고, 디지털 신호를 구성하는 샘플들 중 특정 간격의 샘플만 취한다.\ndown-sampling : 디지털 신호를 구성하는 샘플들 중 특정 간격의 샘플만 취하고 끝난다.\n",
                content: " 1. 문서 설명 link신호처리를 할 때 Decimation과 down-sampling는 헷갈리는 개념이다.\nDecimation과 down-sampling의 의미에 대해 알아보고, 신호처리 관점 및 RTL구현 관점에서 해당 개념을 기술한다.\n2. 정의 link Decimation : 디지털 신호를 먼저 Low-Pass-Filtering(LPF)를 수행하고, 디지털 신호를 구성하는 샘플들 중 특정 간격의 샘플만 취한다.\ndown-sampling : 디지털 신호를 구성하는 샘플들 중 특정 간격의 샘플만 취하고 끝난다.\nDecimation과 down-sampling의 차이는 LPF를 수행하냐 안 하냐의 차이다. 아래 섹션에서 자세히 알아보자.\n3. 상황 가정 및 문제 link두 개념의 차이를 설명하기 위해 아래와 같은 상황을 가정해보자.\n내가 사용하는 신호 : 중심 주파수가 150Hz이고 대역폭이 143.75Hz인 대역 신호\n남이 사용하는 신호 : 중심 주파수가 400Hz이고 대역폭이 143.75Hz인 대역 신호\n수신 신호 : 내가 사용하는 신호 + 남이 사용하는 신호 (노이즈는 없다고 가정하자, 남의 신호를 노이즈라고 가정해도 된다.)\n샘플링 클럭 : 1kHz\n수신 신호를 facotr = 2로 Decimation 하는 상황\n샘플링 클럭을 낮춰 수신 신호를 처리하면 구현 관점에서 전력, 발열에 유리하다. 그래서 수신 신호를 Decimation하는 상황을 가정했다.\n샘플링 클럭을 낮추기 위해서 단순히 시간 축에서 특정 간격의 샘플만 선택하는 down-sampling이면 충분할까? 답은 아니다.\n그 이유를 신호처리 관점에서 이해해보자.\n4. 신호처리 관점 link4.1 스펙트럼 분석 link주파수 영역에서 신호를 분석하면 두 개념의 차이를 쉽게 이해할 수 있다. 아래 그림은 수신 신호의 스펙트럼이다.\n파란색 신호는 내가 만든 신호고, 빨간색 신호는 남이 만든 신호다. 발열을 낮추기 위해 수신 신호를 절반의 샘플링 클럭인 500Hz로 down-sampling을 해보자.\n아래 스펙트럼은 시간 축에서 수신 신호의 샘플을 2개 간격으로 선택하여 샘플링 클럭을 500MHz로 낮춘 신호다.\n보다시피 빨간색인 남이 만든 신호가 Aliasing이 일어나 내 신호를 간섭하는 것을 확인할 수 있다. 여기서 간단히 Aliasing이 일어난 과정을 알아보자.\n샘플링 클럭이 500MHz이므로 유효 주파수 대역은 그 절반인 250MHz다. 따라서 250MHz 이상의 신호 성분은 0~250MHz 영역으로 Aliasing이 일어나게 된다.\n400Mhz 신호는 250MHz기준 오른쪽으로 150Mhz 떨어져 있기 때문에 250MHz를 기준으로 왼쪽으로 150MHz만큼 떨어진 100MHz에 Aliasing이 일어난다.\n결과적으로 down-sampling 이전에는 신호들이 서로 분리되어 간섭을 주지 않았지만, down-sampling 이후에는 신호들이 서로 간섭한다.\n4.2 Low-Pass-Filtering의 필요성 link4.1에서 살펴봤듯이 down-sampling에 의해 aliasing되는 신호 때문에 내 신호에 간섭이 발생할 수 있다.\n따라서 2개 간격으로 샘플을 선택하는 down-sampling을 하기 이전에 먼저 간섭이 될 수 있는 신호를 제거해야한다. 이를 위해 먼저 LPF를 통과 시킨다.\nDecimation Factor가 2이므로 Passband가 250MHz인 LPF를 적용한다.\n아래 그림은 LPF를 거친 수신 신호의 스펙트럼이다. (아직 샘플링 클럭은 1kHz다.)\nLPF를 거친 이후에, 신호를 2개 샘플 간격으로 선택하는 down-sampling을 진행한다.\n아래 그림은 LPF를 한 후, down-sampling을 진행한 스펙트럼이다.\n그림에서 알 수 있듯이, 단순히 down-sampling을 진행했을 때보다. Decimation(LPF + down-sampling)을 진행했을 때, 내 신호에 대한 간섭이 줄어 들었음을 확인할 수 있다.\n4.3 MATLAB CODE link 1close all; 2clear all; 3 4%% Set Simulation Parameter 5fs = 1000; % SampleRate 6sps = 8; % SampleperSym 7beta = 0.15; % RRC roll-off 8span = 10; % filter span (심볼 단위) 9NFFT = 2^15; % FFT Size 10 11t = 0:1/fs:5; % Continuous Time index 12f = linspace(-fs/2, fs/2, NFFT); % Discrete-Frequency axis (SampleRate) 13f_down = linspace(-fs/4, fs/4, NFFT); % Discrete-Frequency axis (Downsample) 14%% RRC pulse shaping 필터 생성 15rrc_filter = rcosdesign(beta, span, sps, 'normal'); % (RRC Filter coeffs) 16 17%% Create My Signal 18my_bits = 2*randi([0 1], 1, 500)-1; % BPSK Modulation 19my_upsampled = upsample(my_bits, sps); % upsampling 20my_shaped = conv(my_upsampled, rrc_filter, 'same'); % RRC Pulse shaping 21 22fc1 = 150; % My Signal Center Freq 23my_sig = my_shaped .* cos(2*pi*fc1*t(1:length(my_shaped))); % Upconversion 24 25%% Create Other Signal 26other_bits = 2*randi([0 1], 1, 500)-1; % BPSK Modulation 27other_upsampled = upsample(other_bits, sps); % upsampling 28other_shaped = conv(other_upsampled, rrc_filter, 'same'); % RRC Pulse shaping 29 30fc2 = 400; % Ohter signal Center Freq 31other_sig = other_shaped .* cos(2*pi*fc2*t(1:length(other_shaped))); % Upconversion 32 33%% rx_sig 34rx_sig = my_sig + other_sig; 35 36%% rx_sig spectrum 37figure; 38fft_my = 20*log10(abs(fftshift(fft(my_sig,NFFT)))); 39fft_other = 20*log10(abs(fftshift(fft(other_sig,NFFT)))); 40 41plot(f, fft_my); 42hold on; 43plot(f, fft_other,'r'); 44title('rx sig'); 45xlabel('Frequency (Hz)'); 46legend('내 신호','남의 신호'); 47 48%% Downsampling 49down_my = my_sig(1:2:end); % my_signal downsampling 50down_other = other_sig(1:2:end); % other_signal downsampling 51down_rx = down_my + down_other; % rx_signal downsampling 52 53fft_down_my = 20*log10(abs(fftshift(fft(down_my,NFFT)))); 54fft_down_other = 20*log10(abs(fftshift(fft(down_other,NFFT)))); 55 56%% Downsampling spectrum 57figure; 58plot(f_down, fft_down_my); 59hold on; 60plot(f_down, fft_down_other,'r') 61title('Downsampled Spectrum (Aliased \u0026 Overlapped)'); 62xlabel('Frequency (Hz)'); 63legend('내 신호','남의 신호'); 64 65%% Decimation 66lpf_my = lowpass(my_sig, 0.5); % my_signal LPF filtering 67lpf_other = lowpass(other_sig, 0.5);% other_signal LPF filtering 68 69deci_my = lpf_my(1:2:end); % my_signal downsampling 70deci_other = lpf_other(1:2:end); % other_signal downsampling 71 72 73fft_lpf_rx = 20*log10(abs(fftshift(fft(lpf_my,NFFT)))); 74fft_lpf_other = 20*log10(abs(fftshift(fft(lpf_other,NFFT)))); 75 76fft_deci_my = 20*log10(abs(fftshift(fft(deci_my,NFFT)))); 77fft_deci_other = 20*log10(abs(fftshift(fft(deci_other,NFFT)))); 78 79%% LPF Spectrum 80figure; 81plot(f, fft_lpf_rx); 82hold on; 83plot(f, fft_lpf_other); 84title('After LPF Spectrum') 85xlabel('주파수 (Hz)'); 86legend('내 신호', '남의 신호'); 87 88%% Decimation(LPF + downsampling) spectrum 89figure; 90plot(f_down, fft_deci_my); 91hold on; 92plot(f_down, fft_deci_other,'r'); 93title('Decimation Spectrum') 94xlabel('주파수 (Hz)'); 95legend('내 신호', '남의 신호'); 해당 예제를 모델링 한 MATLAB 코드다.\n18 ~ 31 Line : 내 신호와, 남의 신호를 대역 신호로 만드는 과정이다. (대역 신호를 만드는 방법은 추후 포스팅)\n34 ~ 36 Line : 수신 신호 스펙트럼 모델링\n49 ~ 63 Line : Down-sampling 한 스펙트럼 모델링\n66 ~ 95 Line : Decimation (LPF + downsampling) 한 수신 신호 모델링\n4.4 신호처리 관점 결론 linkDecimation이란 Low-Pass-Filtering을 수행한 뒤 down-sampling을 하는 것을 의미한다.\n현업에서 설계를 할 때 모뎀 신호를 down-sampling을 한다고 표현하면 큰일난다. 내 신호가 간섭되어 엉망이 되어도 상관 없다는 말을 하는 것과 같기 때문이다.\n따라서 신호를 Decimation 한다는 표현을 꼭 사용하자. 아니면 Low Pass Filtering을 거친 후 down-sampling을 진행 한다고 말하는게 정확한 표현이다.\n5 구현 관점 link"
            }
        );
    index.add(
            {
                id:  5 ,
                href: "\/docs\/dsp\/fir_filter\/",
                title: "FIR Filter",
                description: " 1. 문서 설명 link신호처리 분야에서 매우 많이 쓰이는 Fir Filter를 신호처리 관점 및 RTL 구현 관점에서 기술한다.\n2. 정의 link FIR Filter : FIR은 Finite-Impulse-Response 의 약자이다. FIR 필터는 계수가 시간 축에서 유한한 필터이다. 3. 신호처리 관점 link3.1 Convolution의 시간 축 분석 linkFIR Filter를 이해하려면 먼저 Convolution 연산에 대해 이해해야 한다. 먼저 시간 축에서 Convolution 식에 대해 알아보자.\n",
                content: " 1. 문서 설명 link신호처리 분야에서 매우 많이 쓰이는 Fir Filter를 신호처리 관점 및 RTL 구현 관점에서 기술한다.\n2. 정의 link FIR Filter : FIR은 Finite-Impulse-Response 의 약자이다. FIR 필터는 계수가 시간 축에서 유한한 필터이다. 3. 신호처리 관점 link3.1 Convolution의 시간 축 분석 linkFIR Filter를 이해하려면 먼저 Convolution 연산에 대해 이해해야 한다. 먼저 시간 축에서 Convolution 식에 대해 알아보자.\n사실 Convolution 식이 곧 Filter의 식과 동일하다.\n$$\r\\begin{aligned}\ry[n] \u0026= (x * h)[n] = \\sum_{k=-\\infty}^{\\infty} x[n-k]\\, h[k] \\quad (단 \\:\\: k ≤ n)\\\\\r\\\\\rx \u0026= \\text{필터링의 대상이 되는 신호} \\\\\rh \u0026= \\text{필터의 계수}\r\\end{aligned}\r$$ FIR 필터는 정의는 필터의 계수가 유한한 필터라고 했다. 이 말은 $h$는 유한개의 유의미한 값이 있고, 나머지는 0이라는 소리다.\n이해를 위해 $h[0] = 1 , \\: h[1] = 2, \\: h[2] = 3, \\: h[3] = 4$ 이고 나머지 인덱스의 값은 모두 0이라고 가정하자.\n$h$가 0인 부분은 아무 의미가 없기 때문에 시그마의 범위를 아래 식과 같이 축소할 수 있다.\n$$\r\\begin{aligned}\ry[n] \u0026= (x * h)[n] = \\sum_{k=0}^{3} x[n-k]\\, h[k] \\quad (단 \\:\\: k ≤ n)\\\\\r\\\\\rx \u0026= \\text{필터링의 대상이 되는 신호} \\\\\rh \u0026= \\text{필터의 계수}\r\\end{aligned}\r$$ 이제 식을 전개해보자.\n$$\r\\begin{aligned}\ry[0] \u0026= x[0]h[0] \\\\\ry[1] \u0026= x[1]h[0] + x[0]h[1] \\\\\ry[2] \u0026= x[2]h[0] + x[1]h[1] + x[0]h[2] \\\\\ry[3] \u0026= x[3]h[0] + x[2]h[1] + x[1]h[2] + x[0]h[3]\r\\end{aligned}\r$$ 이게 Convolution의 연산을 하는 방법이다.\n3.2 Convolution의 시간 축, 주파수 축 관계 link이제 Convolution연산을 주파수 축에서 살펴보자.\n결론부터 말하면 시간 축에서 Convolution 연산은 주파수 축에서 곱셈과 동일하다. 증명은 생략한다.\n아래 그림을 살펴보자.\n위 1열의 그림은 주파수 축에서 신호를 나타냈고, 2열의 그림은 시간 축에서 신호를 나타냈다.\n주파수 축에서 -5MHz ~ 5MHz 신호만 선택하기 위해 사각 파형의 계수를 갖는 필터와 곱했다.\n주파수 축에서 곱하는 행위는 시간 축에서 Convolution과 동일하다.\n주파수 축에서 사각 파형은 시간 축에서 무한한 길이의 Sinc 함수와 대응되므로 필터 계수 $h$가 무한개의 유의미한 값이 존재한다.\n이럴 경우에는 이론상으로는 문제가 없지만, 구현상으로 아주 큰 문제가 발생한다. 왜냐하면 결과가 나오려면 무한대의 시간이 걸리기 때문이다.\n3.1장에서 시그마의 위 아래를 무한대에서 유한한 값으로 바꿨다. 이것이 가능했던 이유는 계수 $h$를 유한개의 의미있는 값으로 가정했기 때문이다.\n만약 계수 $h$가 무한개의 의미있는 값이라면 $y[0]$을 구하기 위해 무한대의 덧셈을 수행해야 하므로 결과를 얻으려면 무한대의 시간이 필요하다.\n3.3 Convolution과 Fir Filter의 관계 link3.2에서 우리는 무한한 길이의 Sinc함수가 구현상에서 큰 문제가 되었다. 엔지니어들은 이 문제를 단순하게 해결했다.\n그것은 바로 무한한 길이의 Sinc함수를 유한한(Finite) 길이의 Sinc함수로 바꾸는 것이다. 이제 FIR Filter가 뭔지 알 수 있다.\nFIR Filter란 이상적으로 무한개의 계수를 갖는 필터를 구현을 위해 유한개의 계수를 갖는 필터로 바꾼 것이다.\n그러나 무한개의 필터 계수를 유한개의 필터 계수로 바꾸면 분명 단점도 존재한다. 그것은 바로 필터링의 성능 저하다.\n무한 길이의 Sinc함수를 유한 길이의 Sinc함수로 바꾸려면 시간 축에서 단순히 Sinc함수의 양 옆을 잘라버리면 된다. 그러면 주파수 축에서 어떻게 될까?\n왼쪽은 Sinc함수, 오른쪽은 Sinc함수의 주파수 축 그림이다.\n무한한 길이의 Sinc 계수를 양 옆을 잘라 유한한 길이의 Sinc 계수로 만들었더니 주파수 축에서는 사각파형 모양이, 살짝 찌그러져 보인다.\n이 뜻은, 무한한 길이의 Sinc함수는 주파수 축에서 완벽한 사각 파형을 갖기 때문에 필터링을 거치면 주파수 축에서 내가 원하는 영역을 완벽하게 선택할 수 있다.\n반대로 유한한 길이의 Sinc함수는 찌그러진 사각 파형을 갖기 때문에 주파수 축에서 내가 원하는 영역을 완벽하게 선택할 수 없다.\n모든 것에는 대가가 따르는 법이다.\n4. 구현 관점 link이제 Fir Filter를 RTL로 구현해보자. 단순 RTL 구현이 아니라 FPGA에 최적화된 RTL 구조를 알아보자.\n4.1 SRL (Shift-Register-Lookup Table) linkXilinx FPGA는 SRL(Shift-Register-Lookup table)이 존재한다. SRL이 뭘까? 아래 그림을 살펴보자.\nSRL은 FPGA를 설계할 때 shift-register를 활용하여 지연 로직을 만들때 유용하다.\n일반적으로 shift-register는 플립플롭(F/F)을 활용하여 만드는데, SRL을 활용하면 LUT만으로 shift-register 구현이 가능하다.\n예를 들어 Xilix FPGA는 SRLC32E SRL로직이 있고, 이는 32clk의 딜레이를 갖는 Shift-Register다. 같은 기능을 구현하기 위해서 F/F 32개가 필요한데, F/F이 SRL 대비 로직면에서 크다. 따라서 SRL을 활용하면 면적 및 전력에서 이점을 갖는다.\nFir-Filter 구현을 위해서는 데이터의 지연 로직이 필수적인데, 이 지연 로직을 SRL을 활용해 구현하면 FPGA상에서 최적화할 수 있다.\n4.2 DSP linkXilinx FPGA에서는 MAC(Multiply-Accumulate) 연산에 최적화된 DSP 로직이 존재한다. 구조는 아래와 같다.\n먼저 Input하나를 지연 시킨뒤, 다음 데이터와 서로 덧셈 연산을 수행한다. 그 다음 덧셈 결과를 다른 데이터와 곱셈을 수행한다. 그 다음 곱셈결과를 누적하여 더한다.\n위 구조는 FPGA에서 DSP 1개의 로직을 사용하여 구현된다. 그리고 매우 빠른 덧셈, 곱셈 연산을 지원하기 때문에 Timing 관점에서 이득을 볼 수 있다.\n4.3 Even Symmetric Fir Filter linkEven-Symmetric Fir Filter는 필터의 계수가 짝수개이고, 계수가 좌우 대칭 형태를 이루는 Fir Filter다.\n예를 들어 필터 계수가 3,2,1,1,2,3 이라면 필터 계수가 6개고, 좌우 대칭형태를 띈다. 이러한 경우를 Even-Symmetric하다 라고 표현한다. 이제 RTL 블록 다이어그램을 살펴보자.\n아래 블록다이어그램은 필터의 계수의 길이가 4이고 Even-Symmetric한 Fir Filter의 블록 다이어그램 구조다.\n이해를 위해서 Clock 별로 데이터가 이동하는 것을 그려보자.\n"
            }
        );
    index.add(
            {
                id:  6 ,
                href: "\/docs\/dsp\/interpolation_upsampling\/",
                title: "Interpolation vs Upsampling",
                description: " 1. 문서 설명 link신호처리를 할 때 Interpolation과 Up-sampling은 헷갈리는 개념이다.\nInterpolation을 정확히 이해하기 위해서 먼저 Interpolation과 Up-sampling의 의미에 대해 알아보고, 신호처리 관점 및 RTL구현 관점에서 해당 개념을 기술한다.\n2. 정의 link Interpolation : 디지털 신호를 먼저 샘플들 사이에 0을 집어넣어 up-sampling을 진행한다. 그 다음 Low-Pass-Filtering을 수행한다.\nUp-sampling : 디지털 신호를 샘플들 사이에 up-sampling factor 만큼 0을 넣어 up-sampling을 한다.\n",
                content: " 1. 문서 설명 link신호처리를 할 때 Interpolation과 Up-sampling은 헷갈리는 개념이다.\nInterpolation을 정확히 이해하기 위해서 먼저 Interpolation과 Up-sampling의 의미에 대해 알아보고, 신호처리 관점 및 RTL구현 관점에서 해당 개념을 기술한다.\n2. 정의 link Interpolation : 디지털 신호를 먼저 샘플들 사이에 0을 집어넣어 up-sampling을 진행한다. 그 다음 Low-Pass-Filtering을 수행한다.\nUp-sampling : 디지털 신호를 샘플들 사이에 up-sampling factor 만큼 0을 넣어 up-sampling을 한다.\nInterpolation과 Up-Sampling의 차이는 Low-Pass-Filtering을 수행하냐 안 하냐의 차이다.\n3. 상황 가정 및 문제 link두 개념의 차이를 설명하기 위해 아래와 같은 상황을 가정해보자.\n수신 신호 : 중심 주파수가 150Hz이고 대역폭이 143.75Hz인 대역 신호\n샘플링 클럭 : 1kHz\n수신 신호를 facotr = 2로 Interpolation 하는 상황\n모뎀 수신 동기화 알고리즘에서 Interpolation을 통해 심볼 타이밍을 복구하는 경우가 있다. 따라서 수신 신호를 Interpolation 하는 상황이 종종 있다.\n단순히 시간 축에서 0을 추가하여 샘플링 클럭 높히는 Up-sampling이면 충분할까? 답은 아니다.\n그 이유를 신호처리 관점에서 이해해보자.\n4. 신호처리 관점 link 4.1 스펙트럼 분석 link주파수 영역에서 신호를 분석하면 두 개념의 차이를 쉽게 이해할 수 있다. 아래 그림은 수신 신호의 스펙트럼이다.\n이제 시간 축에서 디지털 신호에 0을 추가해서 up-sampling을 전행하면 아래 스펙트럼과 같이 바뀐다.\nUp-Sampling 이후에 빨간색 Image 신호가 보이기 시작한다. 이러한 Image 신호는 신호 품질에 영향을 준다.\n4.2 LPF의 필요성 link따라서 위 Image 신호를 LPF를 통해 필터링 해줘야 한다.\n아래 그림은 이미지 신호를 LPF를 통해 필터링한 스펙트럼이다.\n이렇게 이미지 신호를 제거해줘야 비로소 Interpolation이 완성된다.\n4.3 시간 축에서 Upsampling과 Interpolation 비교 link시간 축에서 Interpolation과 Upsampling을 비교해보자.\n파란색 신호는 0을 추가해서 up-sampling을 한 신호다. 빨간색 신호는 Interpolation(up-sampling 후 LPF)을 한 신호다.\n신호를 보면 알 수 있듯이, 단순히 up-sampling만 한 신호 대비, LPF를 추가로 수행하여 Interpolation을 하면 신호가 부드럽게 채워짐을 알 수 있다.\n이 효과를 통해 샘플 사이의 값을 유추할 수 있는 효과가 나타난다. 그래서 모뎀의 수신 동기화 알고리즘에서 많이 사용한다.\n4.3 MATLAB 코드 link 1close all; 2clear all; 3%% Set Simulation Parameter 4fs = 500; % SampleRate 5sps = 8; % SampleperSym 6beta = 0.15; % RRC roll-off 7span = 10; % filter span (심볼 단위) 8NFFT = 2^15; % FFT Size 9t = 0:1/fs:10; % Continuous Time index 10f = linspace(-fs/2, fs/2, NFFT); % Discrete-Frequency axis (SampleRate) 11f_up = linspace(-fs, fs, NFFT); % Discrete-Frequency axis (Upsample) 12 13%% RRC pulse shaping 필터 생성 14rrc_filter = rcosdesign(beta, span, sps, 'normal'); % (RRC Filter coeffs) 15 16%% Create my Signal 17my_bits = 2*randi([0 1], 1, 500)-1; % BPSK Modulation 18my_upsampled = upsample(my_bits, sps); % upsampling 19my_shaped = conv(my_upsampled, rrc_filter, 'same'); % RRC Pulse shaping 20fc1 = 150; % My Signal Center Freq 21my_sig = my_shaped .* cos(2*pi*fc1*t(1:length(my_shaped))); % Upconversion 22 23%% rx_sig 24rx_sig = my_sig; 25 26%% rx_sig spectrum 27figure; 28fft_my = 20*log10(abs(fftshift(fft(my_sig,NFFT)))); 29fft_rx_sig = 20*log10(abs(fftshift(fft(rx_sig,NFFT)))); 30plot(f, fft_rx_sig); 31title('rx sig'); 32legend('수신 신호') 33%% Upsampling (Zero-Padding) 34up_rx_sig = upsample(rx_sig,2); % Zero-Padding을 수행하면 이미지 시그널이 생김 35fft_up_my = 20*log10(fftshift(abs(fft(up_rx_sig, NFFT)))); 36 37img_idx = abs(f_up) \u003e fs/2; 38origin_idx = abs(f_up) \u003c fs/2; 39 40figure; 41plot(f_up(img_idx), fft_up_my(img_idx),'r'); 42hold on; 43plot(f_up(origin_idx), fft_up_my(origin_idx),'b'); 44title('Upsampling Signal') 45legend('수신 신호','이미지 신호'); 46 47%% Interpolation 48interp_rx_sig = lowpass(up_rx_sig, 0.5); 49fft_interp_rx_sig = 20*log10(fftshift(abs(fft(interp_rx_sig,NFFT)))); 50figure; 51plot(f_up, fft_interp_rx_sig); 52title('Interpolation Signal'); 4.4 신호처리 관점 결론 linkInterpolation과 Upsampling의 차이는 LPF의 유무이다. Interpolation을 하기 위해서는 Up-sampling 이후에 LPF를 통해 Image 신호를 제거함을 기억하자.\n5. 구현관점 link신호처리 관점에서 Interpolation을 수행하는 과정을 살펴보았다. 과정을 요약해보면 Upsampling Factor만큼 0을 넣어서 Upsampling을 한다. 그 다음 LPF를 통과해 스펙트럼 상에서 Image 신호를 제거한다.\n위 그림을 살펴보면, 위 아래가 각각 주파수 축과 시간 축에서 대응되는 신호다.\n주파수 축에서 수신 신호를 2배 Upsampling한 신호에 대해 완벽한 LPF를 곱한다면 Image신호가 완벽하게 제거될 것이다.\n그러나 완벽한 LPF는 시간 축에서 무한한 길이의 Sinc 파형이다.\n주파수 축에서 곱은, 시간 축에서 Convolution이므로 이는 곧 무한한 계수를 갖는 Sinc 계수를 시간 축에서 Convolution을 해야 Image가 완벽히 제거된 Interpolation 신호를 얻을 수 있다는 것이다.\n따라서 완벽한 LPF를 곱하는 방식으로 Interpolation을 수행하는 것은 구현 관점에서 불가능하다. 이를 해결하기 위해 엔지니어들은 다양한 근사화를 시도했다.\n5.1 Fir Filter기반 Interpolation link근사화를 하는 가장 쉬운 방법은 덜 완벽한 LPF를 사용하는 것이다.\n"
            }
        );
    index.add(
            {
                id:  7 ,
                href: "\/docs\/rtl-ip\/lib_sync_fifo\/",
                title: "lib_sync_fifo.v",
                description: " 모듈 설명 linkSynchronous FIFO에 대한 개념을 설명하고 RTL로 구현하는 과정을 기술한다.\n1. Synchronous FIFO 란? linkFIFO(First-In-First-Out)의 줄임말이다. 말 그대로 먼저 들어온 데이터가 먼저 나간다는 뜻이다.\nFIFO는 기본적으로 읽기 포인터와 쓰기 포인터로 동작한다. 아래 예제를 통해 FIFO의 동작원리를 알아보자.\n2. Synchronous FIFO 예제 linkDEPTH가 8인 FIFO를 예제로 설명을 진행한다. DEPTH란 FIFO에 저장될 수 있는 데이터 개수를 의미한다.\n",
                content: " 모듈 설명 linkSynchronous FIFO에 대한 개념을 설명하고 RTL로 구현하는 과정을 기술한다.\n1. Synchronous FIFO 란? linkFIFO(First-In-First-Out)의 줄임말이다. 말 그대로 먼저 들어온 데이터가 먼저 나간다는 뜻이다.\nFIFO는 기본적으로 읽기 포인터와 쓰기 포인터로 동작한다. 아래 예제를 통해 FIFO의 동작원리를 알아보자.\n2. Synchronous FIFO 예제 linkDEPTH가 8인 FIFO를 예제로 설명을 진행한다. DEPTH란 FIFO에 저장될 수 있는 데이터 개수를 의미한다.\nVerilog 특성상 FIFO는 데이터를 저장하는 F/F로 구현된다. F/F은 다음 클럭에서 값이 업데이트 된다는 것을 주목하면서 아래 예제를 따라가자.\n현재 wr_ptr의 index가 0이므로 FIFO의 0번 index에 x[0] 데이터가 저장되는 중이다.\nfifo index 0번에 데이터가 저장되고 있으므로 wr_ptr의 index를 1 증가 시켜 다음 데이터를 받을 준비를 한다.\n다음 클럭이 되면 FIFO index 0에 x[0] 데이터가 최종 저장된다.\n다음 클럭이 되면 wr_ptr이 최종 1 증가되었다.\n동시에 현재 wr_ptr의 index가 1이므로 FIFO의 1번 index에 x[1] 데이터를 저장하는 중이다.\nFIFO index 1번에 데이터가 저장되고 있으므로 wr_ptr의 index를 1 증가시켜 다음 데이터를 받을 준비를 한다.\n다음 클럭이 되면 FIFO index 1에 x[1] 데이터가 최종 저장된다.\n다음 클럭이 되면 wr_ptr이 최종 1 증가되었다.\n동시에 현재 wr_ptr의 index가 2이므로 FIFO의 2번 index에 x[2] 데이터를 저장하는 중이다.\nFIFO index 1번에 데이터가 저장되고 있으므로 wr_ptr의 index를 1 증가시켜 다음 데이터를 받을 준비를 한다.\n데이터를 계속 저장하여 CLK6이 되었다. 다음 클럭이 되어 FIFO의 6번 index에 x[6]이 FIFO에 최종 저장되었다.\n동시에 현재 wr_ptr의 index가 7이므로 FIFO의 7번 index에 x[7] 데이터를 저장하는 중이다.\nFIFO index 7번에 데이터가 저장되고 있으므로 wr_ptr의 index를 1 증가시켜 다음 데이터를 받을 준비를 한다.\n다음 클럭이 되면 FIFO index 7에 x[7] 데이터가 최종 저장된다.\n다음 클럭이 되면 wr_ptr이 최종 1 증가되었다.\n현재 wr_ptr의 index는 8이다. 그리고 rd_ptr의 index는 0이다. 8(1000)과 0(0000)은 MSB가 다르고 MSB를 제외한 나머지 하위 비트가 같다. 이러한 경우 FIFO가 Full 상태임을 확인할 수 있다.\nFIFO가 Full 상태이므로 더 이상 데이터를 받을 수 없다.\n이제 데이터를 읽어보자.\nrd_ptr의 index는 0이다. 따라서 FIFO index 0에서 데이터를 읽는 중이다.\nFIFO index 0에서 데이터를 읽고 있으므로 rd_ptr index를 1 증가 시켜 다음 데이터를 읽을 준비를 한다.\nx[0] 데이터가 최종 read 되었다. 다만 FIFO에서 데이터를 읽는다고 해도 FIFO안에 저장된 데이터가 사라지지는 않는다. 그러나 x[0] 데이터가 덮어 써져도 문제 없는 상태다.\n다음 클럭이 되면 rd_ptr이 최종 1 증가한다. 현재 wr_ptr의 index는 8(1000)이고 rd_ptr의 index는 1(0001)이다. MSB는 다르지만, MSB를 제외한 나머지 비트가 모두 다르지 않기 때문에, 더 이상 full 상태가 아니다.\n다음 데이터를 읽기 위해 rd_ptr을 1 증가 시킨다.\nx[1] 데이터가 최종 read 되었다.\n다음 클럭에서 rd_ptr이 최종 1 증가 되었다.\n현재 rd_ptr의 index는 2이므로 FIFO index 2번에서 데이터를 읽는 중이다.\nrd_ptr을 1 증가 시켜 다음 데이터를 읽을 준비를 한다.\nx[6] 데이터가 최종 read 되었다.\n다음 클럭에서 rd_ptr이 최종 1 증가 되었다.\n현재 rd_ptr의 index는 7이므로 FIFO index 7번에서 데이터를 읽는 중이다.\nx[7] 데이터가 최종 read 되었다.\n다음 클럭에서 rd_ptr이 최종 1 증가 되었다.\n현재 rd_ptr의 index는 8이다. 그리고 rd_ptr과 wr_ptr의 index가 서로 같다. 이 경우 FIFO는 empty 상태에 있다.\n다음 데이터를 쓰기 위해 wr_ptr의 데이터를 1 증가 시킨다.\nx[8] 데이터를 FIFO에 쓰는 중이다. 현재 wr_ptr의 index는 8(1000)인데 사실 wr_ptr의 하위 3비트를 보고 FIFO index를 결정한다. MSB 비트는 Full 상태를 판단하기 위한 추가 비트다. 따라서 FIFO index 0에 wr_ptr을 쓴다.\nx[8] 데이터가 최종 write 되었다.\n다음 클럭에서 wr_ptr이 최종 1 증가 되었다.\n동시에 현재 wr_ptr에 x[9] 데이터를 write하는 중이다.\n다음 데이터를 쓰기 위해 wr_ptr을 1 증가 시킨다.\n3. Verilog RTL 구현 link위 예제를 참고하여 RTL로 구현해보자. 구현하면서 주목할 점은 아래와 같다.\nrd_ptr, wr_ptr의 Bitwidth는 log2(FIFO_DEPTH) + 1로 설정해야한다. 원래는 log2(FIFO_DEPTH)의 길이만 해도 충분하나, 1비트를 추가해서 FULL 상태를 판단할 수 있다.\nrd_ptr또는 wr_ptr의 MSB를 제외한 비트를 FIFO index로 사용한다. 왜냐면 가장 상위 비트는 FULL 상태를 나타내는 비트기 떄문이다.\nFULL 상태를 판단하기 위해서는 rd_ptr과 wr_ptr의 MSB가 다르고, MSB를 제외한 나머지 비트가 같다.\nEmpty 상태를 판단하기 위해서는 rd_ptr과 wr_ptr이 서로 같을 때다.\n"
            }
        );
    index.add(
            {
                id:  8 ,
                href: "\/docs\/fpga-demo\/petalinux_build_demo\/",
                title: "Petalinux Build Demo (Zybo-z7-10)",
                description: " 1. 데모 설명 linkZybo Z7-10 FPGA 보드에서 Petalinux를 빌드하는 방법을 기술한다.\n본 문서는 Zybo z7-10 보드를 기준으로 설명된 문서지만, 다른 Xilinx FPGA 보드에도 적용 가능하다.\n2. What is Petalinux? linkPetalinux란 Vivado FPGA에 포팅 가능한 운영체제를 뜻한다. 운영체제 안에는 커널, 쉘, 네트워크 등등 다양한 디바이스 드라이버가 미리 구현되어 있기 때문에 개발 시간을 단축할 수 있다. 또한 운영체제가 자원을 효과적으로 관리 가능하다.\n",
                content: " 1. 데모 설명 linkZybo Z7-10 FPGA 보드에서 Petalinux를 빌드하는 방법을 기술한다.\n본 문서는 Zybo z7-10 보드를 기준으로 설명된 문서지만, 다른 Xilinx FPGA 보드에도 적용 가능하다.\n2. What is Petalinux? linkPetalinux란 Vivado FPGA에 포팅 가능한 운영체제를 뜻한다. 운영체제 안에는 커널, 쉘, 네트워크 등등 다양한 디바이스 드라이버가 미리 구현되어 있기 때문에 개발 시간을 단축할 수 있다. 또한 운영체제가 자원을 효과적으로 관리 가능하다.\n이와 반대로 Vivado에서 제공하는 Vitis 환경이 있는데 이는 운영체제가 없는 Baremetal 환경이다. Baremetal은 부팅 속도가 빠르고 단순하지만 주변 장치를 FPGA와 연동할 때에는 디바이스 드라이버를 따로 구현해야 하는 단점이 있다.\n만약 FPGA에 연결되는 주변 장치가 없다면 Baremetal 환경으로 검증하는 것도 좋은 방법이다. Petalinux를 FPGA에 Build한다는 뜻은 FPGA에 리눅스를 설치하는 것이다. 컴퓨터에 윈도우를 설치하는 것과 같다.\n3. Demo linkPetalinux를 Build하기 위한 Demo다. 3.1 항목 부터 차례대로 따라서 진행하면 된다. 이하 모든 과정은 "
            }
        );
    index.add(
            {
                id:  9 ,
                href: "\/docs\/rtl-ip\/mermaid\/",
                title: "Mermaid",
                description: "Example Mermaid diagrams",
                content: "Flowchart linkflowchart LR\rA[Hard] --\u003e|Text| B(Round)\rB --\u003e C{Decision}\rC --\u003e|One| D[Result 1]\rC --\u003e|Two| E[Result 2] Sequence diagram linksequenceDiagram\rAlice-\u003e\u003eJohn: Hello John, how are you?\rloop Healthcheck\rJohn-\u003e\u003eJohn: Fight against hypochondria\rend\rNote right of John: Rational thoughts!\rJohn--\u003e\u003eAlice: Great!\rJohn-\u003e\u003eBob: How about you?\rBob--\u003e\u003eJohn: Jolly good! Gantt Chart linkgantt\rsection Section\rCompleted :done, des1, 2014-01-06,2014-01-08\rActive :active, des2, 2014-01-07, 3d\rParallel 1 : des3, after des1, 1d\rParallel 2 : des4, after des1, 1d\rParallel 3 : des5, after des3, 1d\rParallel 4 : des6, after des4, 1d Class diagram linkclassDiagram\rClass01 \u003c|-- AveryLongClass : Cool\r\u003c\u003e Class01\rClass09 --\u003e C2 : Where am i?\rClass09 --* C3\rClass09 --|\u003e Class07\rClass07 : equals()\rClass07 : Object[] elementData\rClass01 : size()\rClass01 : int chimp\rClass01 : int gorilla\rclass Class10 {\r\u003e\u003eservice\u003e\u003e\rint id\rsize()\r} State diagram linkstateDiagram-v2\r[*] --\u003e Still\rStill --\u003e [*]\rStill --\u003e Moving\rMoving --\u003e Still\rMoving --\u003e Crash\rCrash --\u003e [*] Pie Chart linkpie\r\"Dogs\" : 386\r\"Cats\" : 85.9\r\"Rats\" : 15 Git Graph link gitGraph\rcommit\rcommit\rbranch develop\rcheckout develop\rcommit\rcommit\rcheckout main\rmerge develop\rcommit\rcommit Bar chart (using gantt chart) linkgantt\rtitle Git Issues - days since last update\rdateFormat X\raxisFormat %s\rsection Issue19062\r71 : 0, 71\rsection Issue19401\r36 : 0, 36\rsection Issue193\r34 : 0, 34\rsection Issue7441\r9 : 0, 9\rsection Issue1300\r5 : 0, 5 User Journey diagram link journey\rtitle My working day\rsection Go to work\rMake tea: 5: Me\rGo upstairs: 3: Me\rDo work: 1: Me, Cat\rsection Go home\rGo downstairs: 5: Me\rSit down: 3: Me C4 diagram linkC4Context\rtitle System Context diagram for Internet Banking System\rPerson(customerA, \"Banking Customer A\", \"A customer of the bank, with personal bank accounts.\")\rPerson(customerB, \"Banking Customer B\")\rPerson_Ext(customerC, \"Banking Customer C\")\rSystem(SystemAA, \"Internet Banking System\", \"Allows customers to view information about their bank accounts, and make payments.\")\rPerson(customerD, \"Banking Customer D\", \"A customer of the bank, with personal bank accounts.\")\rEnterprise_Boundary(b1, \"BankBoundary\") {\rSystemDb_Ext(SystemE, \"Mainframe Banking System\", \"Stores all of the core banking information about customers, accounts, transactions, etc.\")\rSystem_Boundary(b2, \"BankBoundary2\") {\rSystem(SystemA, \"Banking System A\")\rSystem(SystemB, \"Banking System B\", \"A system of the bank, with personal bank accounts.\")\r}\rSystem_Ext(SystemC, \"E-mail system\", \"The internal Microsoft Exchange e-mail system.\")\rSystemDb(SystemD, \"Banking System D Database\", \"A system of the bank, with personal bank accounts.\")\rBoundary(b3, \"BankBoundary3\", \"boundary\") {\rSystemQueue(SystemF, \"Banking System F Queue\", \"A system of the bank, with personal bank accounts.\")\rSystemQueue_Ext(SystemG, \"Banking System G Queue\", \"A system of the bank, with personal bank accounts.\")\r}\r}\rBiRel(customerA, SystemAA, \"Uses\")\rBiRel(SystemAA, SystemE, \"Uses\")\rRel(SystemAA, SystemC, \"Sends e-mails\", \"SMTP\")\rRel(SystemC, customerA, \"Sends e-mails to\") "
            }
        );
    index.add(
            {
                id:  10 ,
                href: "\/docs\/section-folder\/",
                title: "Section Folder",
                description: "Example of a folder at the root of the content tree (under `/docs`)",
                content: ""
            }
        );
    index.add(
            {
                id:  11 ,
                href: "\/docs\/section-folder\/section-subfolder\/",
                title: "Section Subfolder",
                description: "Subfolder nested inside a root section folder",
                content: ""
            }
        );
    index.add(
            {
                id:  12 ,
                href: "\/docs\/section-folder\/section-subfolder\/second-section-subfolder\/third-section-subfolder\/",
                title: "Third Section Subfolder",
                description: "Subfolder nested inside a section subfolder",
                content: ""
            }
        );
    index.add(
            {
                id:  13 ,
                href: "\/docs\/section-folder\/section-subfolder\/second-section-subfolder\/",
                title: "Second Section Subfolder",
                description: "Subfolder nested inside a section subfolder",
                content: ""
            }
        );
    index.add(
            {
                id:  14 ,
                href: "\/docs\/section-folder\/section-subfolder\/second-section-subfolder\/third-section-subfolder\/example-doc\/",
                title: "Example Doc",
                description: "Example document nested inside multiple subfolders",
                content: ""
            }
        );
    index.add(
            {
                id:  15 ,
                href: "\/docs\/terms\/",
                title: "Terms",
                description: "Optional features in Lotus Docs.",
                content: ""
            }
        );
    index.add(
            {
                id:  16 ,
                href: "\/docs\/theme-options\/",
                title: "Theme Options",
                description: "Optional features in Lotus Docs.",
                content: ""
            }
        );
    index.add(
            {
                id:  17 ,
                href: "\/docs\/theme-options\/breadcrumbs\/",
                title: "Breadcrumb Navigation",
                description: "How to configure Breadcrumb navigation for your Lotus Docs site.",
                content: " \u003c?xml version=\"1.0\" encoding=\"UTF-8\"?\u003e/ Guides / Theme Options / Breadcrumbs Enable Breadcrumbs linkBreadcrumb navigation is enabled by default1 and appears in the top right-hand corner of content pages above the page title. The Lotus Docs breadcrumb implementation functions with both multilingual and single-language sites.\nStructured Data linkThe breadcrumb navigation also auto-generates structured data for rich results to help enable search results that are more engaging to users. Here are the Breadcrumb Rich Results test results for this very page.\nBreadcrumb configuration reference. ↩︎\n"
            }
        );
    index.add(
            {
                id:  18 ,
                href: "\/docs\/terms\/pl_region\/",
                title: "PL",
                description: "PL영역이란 FPGA에서 HW 부분을 의미한다. Verilog 또는 VHDL로 HW 병렬처리 로직을 구현할 수 있는 영역이다.",
                content: ""
            }
        );
    index.add(
            {
                id:  19 ,
                href: "\/docs\/terms\/ps_region\/",
                title: "PS",
                description: "PS영역이란 FPGA에서 SW 부분을 의미한다. C/C++ 또는 Python으로 SW 어플리케이션을 구동할 수 있는 영역이다.",
                content: ""
            }
        );
    index.add(
            {
                id:  20 ,
                href: "\/docs\/terms\/wsl\/",
                title: "WSL",
                description: "WSL환경이란 윈도우 환경에서 프로그램을 이용하여 리눅스 환경을 구축하는 것이다. 임베디드 시스템을 구현할 때는 ubuntu 또는 vmware 프로그램을 활용하여 WSL 환경을 구축한다.",
                content: ""
            }
        );
    index.add(
            {
                id:  21 ,
                href: "\/docs\/theme-options\/link-behaviour\/",
                title: "Link behaviour",
                description: "Options for Link behaviour in content pages",
                content: "Open external links in a new tab linkBy default, Lotus Docs will open external links in a new tab.\nThis behaviour can be disabled by setting the extLinkNewTab parameter to false in your config:\nhugo.toml hugo.yaml hugo.json 1[params.docs] 2 extLinkNewTab = false # Open external links in a new Tab? default true 1 params: 2 docs: 3 extLinkNewTab: false # Open external links in a new Tab? default true 1{ 2 \"params\": { 3 \"feedback\": { 4 \"extLinkNewTab\": false 5 } 6 } 7} External links are indicated by the ’external link’ icon to the right of the link text. e.g. Lotus Docs GitHub repository:\nPreview tooltip for internal links linkWhen this option is enabled, internal links feature a tooltip that displays basic information about the destination page, such as it’s parent section, title, and description.\nHow to enable the link preview tooltip linkTo enable tooltip previews for internal links, set the intLinkTooltip parameter to true in your config:\nhugo.toml hugo.yaml hugo.json 1[params.docs] 2 intLinkTooltip = true # Enable a tooltip for internal links that displays info about the destination? default false 1 params: 2 docs: 3 intLinkTooltip: true # Enable a tooltip for internal links that displays info about the destination? default false 1{ 2 \"params\": { 3 \"feedback\": { 4 \"intLinkTooltip\": true 5 } 6 } 7} How to format links in your Markdown for preview tooltips linkThe link preview tooltip feature works by using a custom Markdown render hook to first validate a link is internal, and then enables the tooltip function for those links. Markdown links in your content pages can be formatted in one of two ways:\nUsing the relref shortcode - This shortcode displays the relative permalink to a document1.\nreport Be sure to use the % delimiter if creating internal markdown links using the relref shortcode. e.g. [Plausible Analytics Guide]({{% relref \"/docs/features/plausible-analytics\" %}}) warning Note, that relref links don’t work with _index or index files, you’ll need to use regular Markdown links to section landing or other index pages. Specify these links relative to the site’s root URL, for example:/docs/guides/ Links relative to the site’s root - e.g. /docs/guides/features/docsearch/ - /docs/guides/features/docsearch/\nBoth these formats will enable preview tooltips on internal links. However, one benefit of using relref to link internal content is that the hugo command will produce an error if an internal link’s path is invalid.\nLinks and cross references | Hugo ↩︎\n"
            }
        );
    index.add(
            {
                id:  22 ,
                href: "\/docs\/",
                title: "Docs",
                description: "",
                content: ""
            }
        );
    search.addEventListener('input', show_results, true);

    function show_results(){
        const maxResult =  5 ;
        const minlength =  0 ;
        var searchQuery = sanitizeHTML(this.value);
        var results = index.search(searchQuery, {limit: maxResult, enrich: true});

        
        const flatResults = new Map(); 
        for (const result of results.flatMap(r => r.result)) {
        if (flatResults.has(result.doc.href)) continue;
        flatResults.set(result.doc.href, result.doc);
        }

        suggestions.innerHTML = "";
        suggestions.classList.remove('d-none');

        
        if (searchQuery.length < minlength) {
            const minCharMessage = document.createElement('div')
            minCharMessage.innerHTML = `Please type at least <strong>${minlength}</strong> characters`
            minCharMessage.classList.add("suggestion__no-results");
            suggestions.appendChild(minCharMessage);
            return;
        } else {
            
            if (flatResults.size === 0 && searchQuery) {
                const noResultsMessage = document.createElement('div')
                noResultsMessage.innerHTML = "No results for" + ` "<strong>${searchQuery}</strong>"`
                noResultsMessage.classList.add("suggestion__no-results");
                suggestions.appendChild(noResultsMessage);
                return;
            }
        }

        
        for(const [href, doc] of flatResults) {
            const entry = document.createElement('div');
            suggestions.appendChild(entry);

            const a = document.createElement('a');
            a.href = href;
            entry.appendChild(a);

            const title = document.createElement('span');
            title.textContent = doc.title;
            title.classList.add("suggestion__title");
            a.appendChild(title);

            const description = document.createElement('span');
            description.textContent = doc.description;
            description.classList.add("suggestion__description");
            a.appendChild(description);

            suggestions.appendChild(entry);

            if(suggestions.childElementCount == maxResult) break;
        }
    }
    }());
</script>
        
    </body>
</html>
